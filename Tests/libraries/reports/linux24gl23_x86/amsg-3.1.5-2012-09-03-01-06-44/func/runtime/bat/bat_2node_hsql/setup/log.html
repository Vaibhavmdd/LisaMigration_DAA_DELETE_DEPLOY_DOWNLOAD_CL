<html> <body><FONT FACE='arial'> <table width='100%' border='2' cellpadding='4' cellspacing='3'><tr bgcolor='yellow'> <th width='10%'>Event</th> <th width='14%'>Short Description</th> <th width='42%'>Long Description</th><th width='21%'>TimeStamp</th><tr bgcolor='lime'><td>EVENT_START</td><td></td><td></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>stopTIBCOHost</td><td><pre>Stop TIBCO Host with Mode=abort and Wait=true</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>stopTIBCOHost</td><td><pre>Stop TIBCO Host with Mode=abort and Wait=true</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/amx/com/tibco/tibcohost/StopTibcoHost.tst</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>stopTIBCOHost-log</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>stopTIBCOHost-log</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>stopTIBCOHost-log</td><td><pre>Stopping TIBCOHost on host amxrel2qa1.na.tibco.com at /opt/tibco/amx31x/conf/tibcohost/QA-BAT-Host/host ...</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>if (host == null || host.equals(""))
 throw new Exception("host is empty!");

if (host.equalsIgnoreCase(LISA_HOST) || host.equals("localhost") || host.equals("127.0.0.1"))
 return "local";
else
 return "rmi://" + host + ":" + simulatorPort + "/" + host;</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>stopTIBCOHost-getSimulator</td><td><pre>local</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>stopTIBCOHost-validateInputVariables</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>stopTIBCOHost-validateInputVariables</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

String errorMsg = "TIBCOHost Stop Error";

String checkInputVariables() {
	File thFile = null;

    if ((tibcoHostinstance == null) || (tibcoHostinstance.equals(""))) {
		return errorMsg + ": tibcoHostinstance is required";
	}
	if ((host == null) || (host.equals(""))) {
		return errorMsg + ": host is required";
	}
	if ((timeout == null) || (timeout.equals(""))) {
		return errorMsg + ": timeout is required";
	}

    thFile = new File(testExec.parseInState(tibcoHostinstance).replace('\\', '/'));

	if (!thFile.exists()) {
		return errorMsg + ": tibcoHostinstance is not found.";
	}
    if (!thFile.canRead()) {
		return errorMsg + ": tibcoHostinstance cannot be read.";
	}
	if (!thFile.isDirectory()) {
		return errorMsg + "tibcoHostinstance is not a directory.";
	}

	return "TIBCOHost Start-up Validation Success";
}

return checkInputVariables();</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>stopTIBCOHost-validateInputVariables</td><td><pre>TIBCOHost Stop Error: tibcoHostinstance is not found.</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CC9933'><td>EVENT_ASSERT</td><td>stopTIBCOHost-validateInputVariables [Assert215] </td><td><pre>TIBCOHost Stop Error: tibcoHostinstance is not found.</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#FFA500'><td>EVENT_TRANSFAILED</td><td>stopTIBCOHost</td><td><pre>Sub test case had failure</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>wait</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>wait</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/Sleep.tst</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>wait-Log</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>wait-Log</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>wait-Log</td><td><pre>Sleeping for 5 on Windows or 5 on Unix ...</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>wait-sleep</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>wait-sleep</td><td><pre></pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>sleep(secStr) {
  try {
    int secInt = Integer.parseInt(secStr);
    if (secInt &lt; 0) Thread.sleep(0);
    else Thread.sleep(secInt*1000);
  }
  catch(NumberFormatException nfe) {
    Thread.sleep(0);
  }
}

if (System.getProperty("os.name").toLowerCase().indexOf("windows") &gt; -1)
  sleep("5");
else
  sleep("5");</pre></td><td>Mon Sep 03 21:37:56 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>wait-sleep</td><td><pre>(no response)</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteTIBCOHostConfigFolder</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteTIBCOHostConfigFolder</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/DeleteFile.tst</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteTIBCOHostConfigFolder-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteTIBCOHostConfigFolder-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>deleteTIBCOHostConfigFolder-Log</td><td><pre>Deleting /opt/tibco/amx31x/conf/tibcohost ...</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteTIBCOHostConfigFolder-deleteFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteTIBCOHostConfigFolder-deleteFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function delete a file or directory recursively
deleteFile(String strFile) {

 File f = new File(strFile);
 String[] strChildren = null;
 boolean deletionOk = false;
 
 if(!f.exists())
  return true;
              
 if (f.isDirectory()) {
  // Get children
  strChildren = f.list();            
  // Go through each child
  for (int i = 0; i &lt; strChildren.length; i++) {
   deletionOk = deleteFile(new File(f, strChildren[i]).getAbsolutePath());
   if (!deletionOk) {
    return false;
   }
  }
 }
 // The directory is now empty so delete it
 return f.delete();
}

// Main
String baseSuccessMsg = "Delete File Success"; // Do not modify. Assertions might exist on this string.
String baseErrorMsg = "Delete File Error"; // Do not modify. Assertions might exist on this string.
fileS = testExec.parseInState(file).replace('\\','/');
try {
 File fileF = new File(fileS);
 String file = fileF.getCanonicalPath();
 if(deleteFile(file))
  return baseSuccessMsg + ": " + file;
 else
  return baseErrorMsg;
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>deleteTIBCOHostConfigFolder-deleteFile</td><td><pre>Delete File Success: /opt/tibco/amx31x/conf/tibcohost</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteTIBCOAdminConfigFolder</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteTIBCOAdminConfigFolder</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/DeleteFile.tst</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteTIBCOAdminConfigFolder-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteTIBCOAdminConfigFolder-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>deleteTIBCOAdminConfigFolder-Log</td><td><pre>Deleting /opt/tibco/amx31x/conf/admin ...</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteTIBCOAdminConfigFolder-deleteFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteTIBCOAdminConfigFolder-deleteFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function delete a file or directory recursively
deleteFile(String strFile) {

 File f = new File(strFile);
 String[] strChildren = null;
 boolean deletionOk = false;
 
 if(!f.exists())
  return true;
              
 if (f.isDirectory()) {
  // Get children
  strChildren = f.list();            
  // Go through each child
  for (int i = 0; i &lt; strChildren.length; i++) {
   deletionOk = deleteFile(new File(f, strChildren[i]).getAbsolutePath());
   if (!deletionOk) {
    return false;
   }
  }
 }
 // The directory is now empty so delete it
 return f.delete();
}

// Main
String baseSuccessMsg = "Delete File Success"; // Do not modify. Assertions might exist on this string.
String baseErrorMsg = "Delete File Error"; // Do not modify. Assertions might exist on this string.
fileS = testExec.parseInState(file).replace('\\','/');
try {
 File fileF = new File(fileS);
 String file = fileF.getCanonicalPath();
 if(deleteFile(file))
  return baseSuccessMsg + ": " + file;
 else
  return baseErrorMsg;
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>deleteTIBCOAdminConfigFolder-deleteFile</td><td><pre>Delete File Success: /opt/tibco/amx31x/conf/admin</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>re-createTIBCOHostConfigFolder</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>re-createTIBCOHostConfigFolder</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CreateDirectory.tst</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>re-createTIBCOHostConfigFolder-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>re-createTIBCOHostConfigFolder-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>re-createTIBCOHostConfigFolder-Log</td><td><pre>Creating directory "/opt/tibco/amx31x/conf/tibcohost" ...</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>re-createTIBCOHostConfigFolder-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>re-createTIBCOHostConfigFolder-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function create a directory
createDirectory(String strFile) {
 File f = new File(strFile);
 
 if(f.exists())
  return true;  
 else
  return f.mkdirs();           
}

// Main
//String baseSuccessMsg = "Directory Creation Success"; // Do not modify. Test engineers might assert on this string. 
String baseErrorMsg = "Directory Creation Error"; // Do not modify. Test engineers might assert on this string.
String dir = testExec.getStateString("directory", "&lt;&lt;null&gt;&gt;").replace('\\', '/');
dir = testExec.parseInState(dir).replace('\\', '/');
try {
 if(createDirectory(dir))
  return dir;
 else
  return baseErrorMsg;
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>re-createTIBCOHostConfigFolder-createDirectory</td><td><pre>/opt/tibco/amx31x/conf/tibcohost</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>re-createTIBCOAdminConfigFolder</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>re-createTIBCOAdminConfigFolder</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CreateDirectory.tst</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>re-createTIBCOAdminConfigFolder-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>re-createTIBCOAdminConfigFolder-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>re-createTIBCOAdminConfigFolder-Log</td><td><pre>Creating directory "/opt/tibco/amx31x/conf/admin" ...</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>re-createTIBCOAdminConfigFolder-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>re-createTIBCOAdminConfigFolder-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function create a directory
createDirectory(String strFile) {
 File f = new File(strFile);
 
 if(f.exists())
  return true;  
 else
  return f.mkdirs();           
}

// Main
//String baseSuccessMsg = "Directory Creation Success"; // Do not modify. Test engineers might assert on this string. 
String baseErrorMsg = "Directory Creation Error"; // Do not modify. Test engineers might assert on this string.
String dir = testExec.getStateString("directory", "&lt;&lt;null&gt;&gt;").replace('\\', '/');
dir = testExec.parseInState(dir).replace('\\', '/');
try {
 if(createDirectory(dir))
  return dir;
 else
  return baseErrorMsg;
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>re-createTIBCOAdminConfigFolder-createDirectory</td><td><pre>/opt/tibco/amx31x/conf/admin</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/ems/DeleteQueues.tst</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-getEMSAdminObject</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-getEMSAdminObject</td><td><pre></pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/ems/GetEMSAdminObject.tst</pre></td><td>Mon Sep 03 21:38:01 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-getEMSAdminObject-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-getEMSAdminObject-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>deleteAMXQueues-getEMSAdminObject-log</td><td><pre>Connecting to EMS Admin with following parameters:
url: tcp://AMX-BACKEND-4.na.tibco.com:7222
user: admin
password: admin
trustedCertificate: /groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/ems/server_root.cert.pem</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-getEMSAdminObject-validate</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-getEMSAdminObject-validate</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>String successMsg = "EMS Validation Success"; // Do not modify, assertions on these strings might exist.
String errorMsg = "EMS Validation Error";

// Check EMS Admin is loadable
try {
    Class.forName("com.tibco.tibjms.admin.TibjmsAdmin");
    return successMsg;
}
catch (Exception e) {
    return errorMsg + ": " + e.getClass().getName() + " " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>deleteAMXQueues-getEMSAdminObject-validate</td><td><pre>EMS Validation Success</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-getEMSAdminObject-connect</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-getEMSAdminObject-connect</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>
import java.util.Hashtable;
import com.tibco.tibjms.admin.TibjmsAdmin;
import com.tibco.tibjms.TibjmsSSL;

String errorMsg = "EMS Error"; // Do not modify, assertions on this string might exist.

String url = testExec.parseInState(url);
String username = testExec.parseInState(username);
String password = testExec.parseInState(password);
String trustedCertificate = testExec.parseInState(trustedCertificate).replace("\\","/");
TibjmsAdmin admin;

try {
    // initialize SSL environment if needed
    if (url.startsWith("ssl")) {
        Hashtable sslEnvironment = new Hashtable();
        sslEnvironment.put(com.tibco.tibjms.TibjmsSSL.TRUSTED_CERTIFICATES, trustedCertificate);
        //sslEnvironment.put(com.tibco.tibjms.TibjmsSSL.IDENTITY, "C:/tibcoems610/ems/6.1/samples/certs/client_identity.p12");
        //sslEnvironment.put(com.tibco.tibjms.TibjmsSSL.PASSWORD, "password");
        //sslEnvironment.put(com.tibco.tibjms.TibjmsSSL.EXPECTED_HOST_NAME, "sbagi-mbp");
        sslEnvironment.put(com.tibco.tibjms.TibjmsSSL.ENABLE_VERIFY_HOST_NAME, new Boolean(false));
        admin = new TibjmsAdmin(url, username, password, sslEnvironment);
    }
    else
        admin = new TibjmsAdmin(url, username, password);
    return admin;
}
catch (Exception e) {
    return errorMsg + ": " + e.getClass().getName() + " " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>deleteAMXQueues-getEMSAdminObject-connect</td><td><pre>com.tibco.tibjms.admin.TibjmsAdmin@26e795b</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>deleteAMXQueues-log</td><td><pre>Deleting Queues "AMX_SV_amxrel2qa1.na.tibco.com.&gt;" ...</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-deleteQueues</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>deleteAMXQueues-deleteQueues</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import com.tibco.tibjms.admin.*;

String errorMsg = "EMS Error"; // Do not modify, assertions on this string might exist.
String successMsg = "EMS Queue deletion success";
String msg = "";
String pattern = testExec.parseInState(pattern);

try {
    EMSAdmin.destroyQueues(pattern);
    msg = successMsg;
}
catch (Exception e) {
    msg = errorMsg + ": " + e.getClass().getName() + ". " + e.getMessage();
}
finally {
    EMSAdmin.close();
    return msg;
}</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>deleteAMXQueues-deleteQueues</td><td><pre>EMS Queue deletion success</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>dbSwitch</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>dbSwitch</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>hsql</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>dbSwitch</td><td><pre>Switching to bootstrapTIBCOHost after comparison match.</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/amx/com/tibco/tibcohost/BootstrapTibcoHost.tst</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-log</td><td><pre>Bootstraping TIBCOHost...</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

String errorMsg = "TH Bootstrap Validation Error";

File file = new File(testExec.parseInState(workingDir));
if (!file.exists())
    return errorMsg + ": Directory '" + workingDir + "' does not exist.";
if (!file.isDirectory())
    return erroMsg + ": '" + workingDir + "' must be a directory.";

if (antLogFile.equals(""))
    return errorMsg + ": Log file is required.";

return "Validation success";</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-validate</td><td><pre>Validation success</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>if (propFile.equals(""))
    return true;
else
    return testExec.parseInState(propFile).replace("\\","/");</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-checkPropFileEmpty</td><td><pre>true</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CC9933'><td>EVENT_ASSERT</td><td>bootstrapTIBCOHost-checkPropFileEmpty [Assert181] </td><td><pre>Prop file is not set. Let's create it...</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CopyFile.tst</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-Log</td><td><pre>Copying file 
"/groupfiler/tests/tests/amsg/3.0/libraries/amx/com/tibco/tibcohost/hpa-log4j.xml.template" to 
"/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml"</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CC9933'><td>EVENT_ASSERT</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-Log [Assert106] </td><td><pre>Destination directory will be created...</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-getDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-getDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>String file = testExec.parseInState(fileOut).replace('\\','/');
File f = new File(file);

if (f.isDirectory())
 return file;
else 
 return f.getParent();</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-getDirectory</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CreateDirectory.tst</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-createDirectory-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-createDirectory-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-createDirectory-Log</td><td><pre>Creating directory "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup" ...</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-createDirectory-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-createDirectory-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function create a directory
createDirectory(String strFile) {
 File f = new File(strFile);
 
 if(f.exists())
  return true;  
 else
  return f.mkdirs();           
}

// Main
//String baseSuccessMsg = "Directory Creation Success"; // Do not modify. Test engineers might assert on this string. 
String baseErrorMsg = "Directory Creation Error"; // Do not modify. Test engineers might assert on this string.
String dir = testExec.getStateString("directory", "&lt;&lt;null&gt;&gt;").replace('\\', '/');
dir = testExec.parseInState(dir).replace('\\', '/');
try {
 if(createDirectory(dir))
  return dir;
 else
  return baseErrorMsg;
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-createDirectory-createDirectory</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-copyFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-copyFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

copyFile(String fileIn, String fileOut) {
 // Do not modify next 2 variables. 
 // Test engineers might have assertion on these strings.
 String baseSuccessMsg = "File Copy Success";
 String baseErrorMsg = "File Copy Error";

 try {
  File fi = new File(fileIn);
  File fo = new File(fileOut);

  // We don't copy directory!
  if (fi.isDirectory())
   return baseErrorMsg + ": Source cannot be a directory !"; 
  
  // If destination is a directory, we'll copy the source file in there
  if (fo.exists() && fo.isDirectory())
   fo = new File(fo, fi.getName());

  FileInputStream fis  = new FileInputStream(fi);
  FileOutputStream fos = new FileOutputStream(fo);
  
  byte[] buf = new byte[1024];
  int i = 0;
  while((i = fis.read(buf))!= -1) {
   fos.write(buf, 0, i);
  }
  fis.close();
  fos.close();
  return fileOut;
 }
 catch (Exception e) {
  return baseErrorMsg + ": " + e.getMessage();
 }
}

// Main
fileIn = testExec.parseInState(fileIn).replace('\\','/');
fileOut = testExec.parseInState(fileOut).replace('\\','/');
return copyFile(fileIn, fileOut);</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-copyTHLogConfigFile-copyFile</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/ReplaceInFile.tst</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-Log</td><td><pre>Replacing the following Strings in file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml":

amx.th.instance.log=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.log,amx.th.instance.nodestdout.log=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-stdout.log
 </pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-validate</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-validate</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>baseSuccessMsg = "Replace Validation Success";
baseErrorMsg = "Replace Validation Error"; // there is an assertion on this string
String file = testExec.parseInState(file).replace('\\','/');
File f = new File(file);

// Check if file exists
if (!f.exists())
 return baseErrorMsg + ": File ('" + file + "') does not exist";

// If fileName is a directory, we fail.
if(f.isDirectory())
 return baseErrorMsg + ": File passed is a directory! It must be a file.";

// If cannot write
if (!f.canWrite())
  return baseErrorMsg + ": Cannot write in file '" + file + "'.";

//This can now be optional as users can use propertyFile/List.
// Old string cannot be empty
if((oldString.equals("")) && (propertyFileName.equals("")) && (propertyList.equals("")))
 return baseErrorMsg + ": User should specify either oldString or propertyFileName or propertyList";

File propertyFile = null;
if ((propertyFileName != null) && (!propertyFileName.equals(""))) {
	propertyFile = new File(testExec.parseInState(propertyFileName).replace('\\', '/'));
	if (!propertyFile.canRead()) {
		return baseErrorMsg + ": Property file not found/cannot read it. "+propertyFileName;
	}
	if (!propertyFile.isFile()) {
		return baseErrorMsg + ": property file is not a normal file. "+propertyFileName;
	}		
}

return baseSuccessMsg;</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-validate</td><td><pre>Replace Validation Success</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.util.Properties;

	Properties getPropList() {
		Properties props = new Properties();
		File propertyFile = null;
		FileInputStream fis = null;
		
		oldStr = testExec.parseInState(oldString.toString());
		newStr = testExec.parseInState(newString.toString());
		
		try {
			if ((propertyFileName != null) && (!propertyFileName.equals(""))) {
				propertyFile = new File(testExec.parseInState(propertyFileName).replace('\\', '/'));
				fis = new FileInputStream(propertyFile);
				props.load(fis);
				
			}
			
			if ((propertyList != null) && (!propertyList.equals(""))) {
				String [] propArray = propertyList.split(",");
				for (int i =0; i &lt; propArray.length; i++) {
					String [] keyPair = propArray[i].split("=");
					if (keyPair.length == 1) continue;
					props.setProperty(keyPair[0],keyPair[1]);
				}
			}
			
            if (!oldStr.equals("")) {
                props.setProperty(oldStr,newStr);
            }
		
		}catch(Exception e) {
			response = "Fail: Failed to compute property list."+e.getLocalizedMessage();			
		}
		finally {
			try {				
				if (fis != null) fis.close();				
			}catch(Exception ioe) {
				//ignore.
			}
		}
		return props;
	}
return getPropList();</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-getFullPropertyList</td><td><pre>{amx.th.instance.nodestdout.log=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-stdout.log, amx.th.instance.log=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.log}</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-readFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-readFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/ReadFile.tst</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-readFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-readFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-readFile-Log</td><td><pre>Reading file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml" ...</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-readFile-readFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-readFile-readFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

String baseErrorMsg = "File Read Error"; // Do not modify. Test engineers might assert on this string.
String strFile = testExec.parseInState(file).replace('\\', '/');

File file = new File(strFile);
if (!file.exists())
  return baseErrorMsg + ": File '" + file + "' does not exist.";
if (!file.canRead())
  return baseErrorMsg + ": Cannot be read file '" + file + "'.";
if (!file.isFile())
  return baseErrorMsg + ": '" + file + "' is not a file.";

BufferedReader input=null;

try {
    if (encoding.equals("")) 
        input = new BufferedReader(new InputStreamReader(new FileInputStream(file)));
    else 	
        input = new BufferedReader(new InputStreamReader  
				  (new FileInputStream(file),encoding));

    //BufferedReader input = new BufferedReader(new FileReader(file));
    StringBuffer content = new StringBuffer();
    String line = null;
    /*
    * readLine is a bit quirky :
    * it returns the content of a line MINUS the newline.
    * it returns null only for the END of the stream.
    * it returns an empty String if two newlines appear in a row.
    */
    while ((line = input.readLine()) != null) {
        content.append(line);
        content.append(System.getProperty("line.separator"));
    }
    //flush and close both "input" and its underlying FileReader
    input.close();
    return content.toString();
}
catch(Exception e) {
    return baseErrorMsg + ": " + e.getMessage();
}
</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-readFile-readFile</td><td><pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;

&lt;log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/"&gt;
    &lt;appender name="ASYNC" class="org.apache.log4j.AsyncAppender"&gt;
        &lt;appender-ref ref="FILE"/&gt;
    &lt;/appender&gt;
    
    &lt;appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender"&gt;
        &lt;param name="Target" value="System.out"/&gt;
        &lt;param name="Threshold" value="DEBUG"/&gt;
        &lt;layout class="org.apache.log4j.PatternLayout"&gt;
            &lt;param name="ConversionPattern" value="[%t] [%-5p] %c - %m%n"/&gt; 
        &lt;/layout&gt;
    &lt;/appender&gt;

   &lt;appender name="FILE" class="com.tibco.commonlogging.appender.CommonRollingFileAppender"&gt;
     &lt;param name="File" value="[[amx.th.instance.log]]"/&gt;
     &lt;param name="Append" value="true"/&gt;
      &lt;layout class="com.tibco.tpcl.org.apache.log4j.PatternLayoutEx"&gt;
        &lt;param name="ConversionPattern" value="%d{dd MMM yyyy HH:mm:ss,SSS} [%t] [%-5p] %c - %m%n"/&gt;
      &lt;/layout&gt;
     &lt;!-- 
     &lt;layout class="com.tibco.commonlogging.appender.BEF2CBELayout"/&gt;
     --&gt;
  &lt;/appender&gt;
  
   &lt;appender name="NODE_STDOUT" class="com.tibco.commonlogging.appender.CommonRollingFileAppender"&gt;
     &lt;param name="File" value="[[amx.th.instance.nodestdout.log]]"/&gt;
     &lt;param name="Append" value="false"/&gt;
     &lt;layout class="org.apache.log4j.PatternLayout"&gt;
       &lt;param name="ConversionPattern" value="%d{dd MMM yyyy HH:mm:ss,SSS} %c - %m%n"/&gt;
     &lt;/layout&gt;
   &lt;/appender&gt;
  
    &lt;logger name="com.tibco.amf.hpa.tibcohost.NodeProxy" additivity="false"&gt;
        &lt;level value="info"/&gt;
        &lt;appender-ref ref="NODE_STDOUT"/&gt;
    &lt;/logger&gt;
    
    &lt;root&gt;
        &lt;priority value ="info" /&gt; 
        &lt;appender-ref ref="FILE"/&gt;
        &lt;appender-ref ref="CONSOLE"/&gt;
    &lt;/root&gt;
&lt;/log4j:configuration&gt;
</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.util.Properties;
import java.util.Set;

// convert to String because it can comes as Boolean or Integer!
// Replace
// return fileContent.replace(oldStr.subSequence(0,oldStr.length()), newStr.subSequence(0, newStr.length()));
//return fileContent.substring(0, fileContent.indexOf(oldString)) + newString + fileContent.substring((fileContent.indexOf(oldString) + oldString.length()), fileContent.length());

	String replace() {
		String response = fileContent;
        Properties props = propList;
		try {	
            if (prefix == null) prefix = "";
			if (suffix == null) suffix = "";

			if (!props.isEmpty()) {
				
				Set keySet = props.keySet();
				for (Object key: keySet) {
					String name = prefix+(String)key+suffix;
					String  value = testExec.parseInState((String)props.get(key));					
					response = response.replace(name.subSequence(0,name.length()), value.subSequence(0, value.length()));
				}
			}
		}
        catch(Exception e) {
			response = "Fail: Failed to replace."+e.getLocalizedMessage();			
		}
		return response;
	}
return replace();</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-replaceContent</td><td><pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;

&lt;log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/"&gt;
    &lt;appender name="ASYNC" class="org.apache.log4j.AsyncAppender"&gt;
        &lt;appender-ref ref="FILE"/&gt;
    &lt;/appender&gt;
    
    &lt;appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender"&gt;
        &lt;param name="Target" value="System.out"/&gt;
        &lt;param name="Threshold" value="DEBUG"/&gt;
        &lt;layout class="org.apache.log4j.PatternLayout"&gt;
            &lt;param name="ConversionPattern" value="[%t] [%-5p] %c - %m%n"/&gt; 
        &lt;/layout&gt;
    &lt;/appender&gt;

   &lt;appender name="FILE" class="com.tibco.commonlogging.appender.CommonRollingFileAppender"&gt;
     &lt;param name="File" value="/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.log"/&gt;
     &lt;param name="Append" value="true"/&gt;
      &lt;layout class="com.tibco.tpcl.org.apache.log4j.PatternLayoutEx"&gt;
        &lt;param name="ConversionPattern" value="%d{dd MMM yyyy HH:mm:ss,SSS} [%t] [%-5p] %c - %m%n"/&gt;
      &lt;/layout&gt;
     &lt;!-- 
     &lt;layout class="com.tibco.commonlogging.appender.BEF2CBELayout"/&gt;
     --&gt;
  &lt;/appender&gt;
  
   &lt;appender name="NODE_STDOUT" class="com.tibco.commonlogging.appender.CommonRollingFileAppender"&gt;
     &lt;param name="File" value="/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-stdout.log"/&gt;
     &lt;param name="Append" value="false"/&gt;
     &lt;layout class="org.apache.log4j.PatternLayout"&gt;
       &lt;param name="ConversionPattern" value="%d{dd MMM yyyy HH:mm:ss,SSS} %c - %m%n"/&gt;
     &lt;/layout&gt;
   &lt;/appender&gt;
  
    &lt;logger name="com.tibco.amf.hpa.tibcohost.NodeProxy" additivity="false"&gt;
        &lt;level value="info"/&gt;
        &lt;appender-ref ref="NODE_STDOUT"/&gt;
    &lt;/logger&gt;
    
    &lt;root&gt;
        &lt;priority value ="info" /&gt; 
        &lt;appender-ref ref="FILE"/&gt;
        &lt;appender-ref ref="CONSOLE"/&gt;
    &lt;/root&gt;
&lt;/log4j:configuration&gt;
</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/WriteFile.tst</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-Log</td><td><pre>Writing in file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml" ...
</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-checkCreateFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-checkCreateFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-writeFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-writeFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

String baseErrorMsg = "File Write Error"; // Do not modify. Test engineers might assert on this string.
String baseSuccessMsg = "File Write Success"; // Do not modify. Test engineers might assert on this string.
String strFile = testExec.parseInState(file).replace('\\', '/');

File fileHandle = new File(strFile);
if (!fileHandle.exists())
  return baseErrorMsg + ": File '" + fileHandle + "' does not exist.";
if (!fileHandle.isFile())
  return baseErrorMsg + ": '" + fileHandle + "' is not a file.";
if (!fileHandle.canWrite())
  return baseErrorMsg + ": Cannot write in file '" + fileHandle + "'.";

if (encoding.equals("")) {
        BufferedWriter output = new BufferedWriter(new OutputStreamWriter
                                 (new FileOutputStream(fileHandle)));
	output.write(content);
	output.close();
	return baseSuccessMsg + ": File '" + fileHandle + "' now contains: \n" + content;
} else {
	BufferedWriter output = new BufferedWriter(new OutputStreamWriter
                                 (new FileOutputStream(fileHandle),encoding));
	output.write(content);
	output.close();
	return baseSuccessMsg + ": File '" + fileHandle + "' now contains: \n" + content;
}</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-writeFile</td><td><pre>File Write Success: File '/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml' now contains: 
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;

&lt;log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/"&gt;
    &lt;appender name="ASYNC" class="org.apache.log4j.AsyncAppender"&gt;
        &lt;appender-ref ref="FILE"/&gt;
    &lt;/appender&gt;
    
    &lt;appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender"&gt;
        &lt;param name="Target" value="System.out"/&gt;
        &lt;param name="Threshold" value="DEBUG"/&gt;
        &lt;layout class="org.apache.log4j.PatternLayout"&gt;
            &lt;param name="ConversionPattern" value="[%t] [%-5p] %c - %m%n"/&gt; 
        &lt;/layout&gt;
    &lt;/appender&gt;

   &lt;appender name="FILE" class="com.tibco.commonlogging.appender.CommonRollingFileAppender"&gt;
     &lt;param name="File" value="/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.log"/&gt;
     &lt;param name="Append" value="true"/&gt;
      &lt;layout class="com.tibco.tpcl.org.apache.log4j.PatternLayoutEx"&gt;
        &lt;param name="ConversionPattern" value="%d{dd MMM yyyy HH:mm:ss,SSS} [%t] [%-5p] %c - %m%n"/&gt;
      &lt;/layout&gt;
     &lt;!-- 
     &lt;layout class="com.tibco.commonlogging.appender.BEF2CBELayout"/&gt;
     --&gt;
  &lt;/appender&gt;
  
   &lt;appender name="NODE_STDOUT" class="com.tibco.commonlogging.appender.CommonRollingFileAppender"&gt;
     &lt;param name="File" value="/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-stdout.log"/&gt;
     &lt;param name="Append" value="false"/&gt;
     &lt;layout class="org.apache.log4j.PatternLayout"&gt;
       &lt;param name="ConversionPattern" value="%d{dd MMM yyyy HH:mm:ss,SSS} %c - %m%n"/&gt;
     &lt;/layout&gt;
   &lt;/appender&gt;
  
    &lt;logger name="com.tibco.amf.hpa.tibcohost.NodeProxy" additivity="false"&gt;
        &lt;level value="info"/&gt;
        &lt;appender-ref ref="NODE_STDOUT"/&gt;
    &lt;/logger&gt;
    
    &lt;root&gt;
        &lt;priority value ="info" /&gt; 
        &lt;appender-ref ref="FILE"/&gt;
        &lt;appender-ref ref="CONSOLE"/&gt;
    &lt;/root&gt;
&lt;/log4j:configuration&gt;
</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-success</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-success</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>return testExec.parseInState(file).replace('\\','/');</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-writeFile-success</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-success</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-success</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>return "Successfully replaced '" + propList.toString() + "' in file '" + testExec.parseInState(file.toString()) + "'";</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-replaceInTHLogConfigFile-success</td><td><pre>Successfully replaced '{amx.th.instance.nodestdout.log=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-stdout.log, amx.th.instance.log=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.log}' in file '/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml'</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CopyFile.tst</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-Log</td><td><pre>Copying file 
"/groupfiler/tests/tests/amsg/3.0/libraries/amx/com/tibco/tibcohost/node-log4j.xml.template" to 
"/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-log4j.xml"</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CC9933'><td>EVENT_ASSERT</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-Log [Assert106] </td><td><pre>Destination directory will be created...</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-getDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-getDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>String file = testExec.parseInState(fileOut).replace('\\','/');
File f = new File(file);

if (f.isDirectory())
 return file;
else 
 return f.getParent();</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-getDirectory</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup</pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:02 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CreateDirectory.tst</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-createDirectory-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-createDirectory-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-createDirectory-Log</td><td><pre>Creating directory "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup" ...</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-createDirectory-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-createDirectory-createDirectory</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function create a directory
createDirectory(String strFile) {
 File f = new File(strFile);
 
 if(f.exists())
  return true;  
 else
  return f.mkdirs();           
}

// Main
//String baseSuccessMsg = "Directory Creation Success"; // Do not modify. Test engineers might assert on this string. 
String baseErrorMsg = "Directory Creation Error"; // Do not modify. Test engineers might assert on this string.
String dir = testExec.getStateString("directory", "&lt;&lt;null&gt;&gt;").replace('\\', '/');
dir = testExec.parseInState(dir).replace('\\', '/');
try {
 if(createDirectory(dir))
  return dir;
 else
  return baseErrorMsg;
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-createDirectory-createDirectory</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-copyFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-copyFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

copyFile(String fileIn, String fileOut) {
 // Do not modify next 2 variables. 
 // Test engineers might have assertion on these strings.
 String baseSuccessMsg = "File Copy Success";
 String baseErrorMsg = "File Copy Error";

 try {
  File fi = new File(fileIn);
  File fo = new File(fileOut);

  // We don't copy directory!
  if (fi.isDirectory())
   return baseErrorMsg + ": Source cannot be a directory !"; 
  
  // If destination is a directory, we'll copy the source file in there
  if (fo.exists() && fo.isDirectory())
   fo = new File(fo, fi.getName());

  FileInputStream fis  = new FileInputStream(fi);
  FileOutputStream fos = new FileOutputStream(fo);
  
  byte[] buf = new byte[1024];
  int i = 0;
  while((i = fis.read(buf))!= -1) {
   fos.write(buf, 0, i);
  }
  fis.close();
  fos.close();
  return fileOut;
 }
 catch (Exception e) {
  return baseErrorMsg + ": " + e.getMessage();
 }
}

// Main
fileIn = testExec.parseInState(fileIn).replace('\\','/');
fileOut = testExec.parseInState(fileOut).replace('\\','/');
return copyFile(fileIn, fileOut);</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-copyNodeStdoutLogConfigFile-copyFile</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-log4j.xml</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>str = "";
str = str + "amx.th.instance.name=" + testExec.parseInState(name.toString()) + line_separator;
str = str + "amx.th.hpa.log.config.file=" + testExec.parseInState(thLogConfig).replace("\\","/") + line_separator;
str = str + "amx.th.hpa.node.log.config.file=" + testExec.parseInState(nodeStdoutLogConfig).replace("\\","/") + line_separator;
str = str + "amx.th.security.keystore.file=" + testExec.parseInState(securityKeystoreFile.toString()).replace("\\","/") + line_separator;
str = str + "amx.th.security.keystore.type=" + testExec.parseInState(securityKeystoreType.toString()) + line_separator;
str = str + "amx.th.security.keystore.password=" + testExec.parseInState(securityKeystorePassword.toString()) + line_separator;
str = str + "amx.th.jmx.secure=false" + line_separator;
str = str + "amx.th.qin.server.url=" + testExec.parseInState(qinServerUrl.toString()) + line_separator;
str = str + "amx.th.qin.groupName=" + testExec.parseInState(qinGroupName.toString()) + line_separator;
str = str + "amx.th.qin.userName=" + testExec.parseInState(qinUserName.toString()) + line_separator;
str = str + "amx.th.qin.pass=" + testExec.parseInState(qinPassword.toString()) + line_separator;
str = str + "amx.th.qin.startupInterval=" + testExec.parseInState(qinStartupInterval.toString()) + line_separator;
str = str + "amx.th.qin.backoffInterval=" + testExec.parseInState(qinBackoffInterval.toString()) + line_separator;
str = str + "amx.th.qin.recovery_timer_timeout=" + testExec.parseInState(qinRecoveryTimerTimeout.toString()) + line_separator;
str = str + "amx.th.qin.recovery_attempt_delay=" + testExec.parseInState(qinRecoveryAttemptDelay.toString()) + line_separator;
str = str + "amx.th.qin.secure=" + testExec.parseInState(qinSecure.toString()) + line_separator;
str = str + "amx.th.qin.notificationTransport.impl=" + testExec.parseInState(qinTransportImplementation.toString()) + line_separator;
str = str + "amx.th.ems.identity.store.password=" + testExec.parseInState(emsIdentityStorePassword.toString()) + line_separator;
str = str + "amx.th.trinity.keyStoreLocation=" + testExec.parseInState(trinityKeystoreFile.toString()).replace("\\","/") + line_separator;
str = str + "amx.th.trinity.keyStorePassword=" + testExec.parseInState(trinityKeystorePassword.toString()) + line_separator;
str = str + "amx.th.trinity.keyStoreType=" + testExec.parseInState(trinityKeystoreType.toString()) + line_separator;
str = str + "amx.th.trinity.tcs.url=" + testExec.parseInState(trinityTcsUrl.toString()) + line_separator;
str = str + "amx.th.trinity.tcs.user=" + testExec.parseInState(trinityTcsUser.toString()) + line_separator;
str = str + "amx.th.trinity.tcs.password=" + testExec.parseInState(trinityTcsPassword.toString()) + line_separator;
str = str + "amx.th.hpa.jmx.port=" + testExec.parseInState(jmxPort.toString()) + line_separator;
str = str + "amx.th.hpa.jmx.interface=" + testExec.parseInState(jmxInterface.toString()) + line_separator;
str = str + "amx.th.process.prefix=" + testExec.parseInState(processPrefix.toString()) + line_separator;
str = str + "amf.node.type=" + testExec.parseInState(nodeType.toString()) + line_separator;
str = str + "amf.node.type.version=" + testExec.parseInState(nodeTypeVersion.toString()) + line_separator;

return str;
</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-buildPropFileContent</td><td><pre>amx.th.instance.name=QA-BAT-Host
amx.th.hpa.log.config.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml
amx.th.hpa.node.log.config.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-log4j.xml
amx.th.security.keystore.file=/opt/tibco/amx31x/tibcohost/3.1/templates/admin.default.ssl.trust.store.ts
amx.th.security.keystore.type=JCEKS
amx.th.security.keystore.password=#!llDFtm1IZoO9hFkLI83SMqigDHIE/V/n
amx.th.jmx.secure=false
amx.th.qin.server.url=tcp://AMX-BACKEND-4.na.tibco.com:7222
amx.th.qin.groupName=AMXAdmin_amxrel2qa1.na.tibco.com
amx.th.qin.userName=admin
amx.th.qin.pass=admin
amx.th.qin.startupInterval=3000
amx.th.qin.backoffInterval=0
amx.th.qin.recovery_timer_timeout=3000
amx.th.qin.recovery_attempt_delay=2000
amx.th.qin.secure=false
amx.th.qin.notificationTransport.impl=com.tibco.amf.hpa.core.runtime.management.impl.NotificationTransportImpl
amx.th.ems.identity.store.password=#!zIi9ux3C1uDzIZBJ2SjuWEKPpz4VMVLf3IEiSxdROOU=
amx.th.trinity.keyStoreLocation=/groupfiler/tests/tests/amsg/3.0/tests/func/runtime/bat/keystore/admin-emsconfig-tct.jks
amx.th.trinity.keyStorePassword=#!QInks0TXAJ7T8L2J1EyCwFrrp7lQ4aIYLyACrTmBLco=
amx.th.trinity.keyStoreType=JKS
amx.th.trinity.tcs.url=service:jmx:jmxmp://0.0.0.0:6041
amx.th.trinity.tcs.user=user1
amx.th.trinity.tcs.password=#!ebhOf5DT0a3G6g+x0McNKKslL/+xDZMULrekrfN1Zio=
amx.th.hpa.jmx.port=6051
amx.th.hpa.jmx.interface=amxrel2qa1.na.tibco.com
amx.th.process.prefix=tibamx_
amf.node.type=com.tibco.amf.hpa.tibcohost.node.hibernate.feature
amf.node.type.version=1.0.1
</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/WriteFile.tst</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-writePropFile-Log</td><td><pre>Writing in file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties" ...
</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-checkCreateFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-checkCreateFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CC9933'><td>EVENT_ASSERT</td><td>bootstrapTIBCOHost-writePropFile-checkCreateFile [Assert109] </td><td><pre>createIfNotExist parameter is set to true</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CheckFileExists.tst</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-checkFileExists-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-checkFileExists-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-writePropFile-checkFileExists-Log</td><td><pre>Checking existence of file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties" ...</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-checkFileExists-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-checkFileExists-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function checks for file existence
checkFileExists(String strFile) {
 File f = new File(strFile);
 return f.exists();         
}

// Main 
String baseErrorMsg = "File Check Error"; // Do not modify. Test engineers might assert on this string.
file = testExec.parseInState(file).replace('\\','/');

try {
 return checkFileExists(file);
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-writePropFile-checkFileExists-checkFileExists</td><td><pre>false</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-createFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-createFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CreateFile.tst</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-createFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-createFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-writePropFile-createFile-Log</td><td><pre>Creating file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties" ...</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-createFile-createFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-createFile-createFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function creates a file
createFile(String strFile) {
 File f = new File(strFile);
 
 if(f.exists())
  return true;

 File parent = f.getParentFile();
 if (parent != null) {
  if (!parent.exists()) {
   if (parent.mkdirs()) {
    ;
   }
   else {
    return false;
   }
  }
 }
 return f.createNewFile();           
}

// Main
//String baseSuccessMsg = "File Creation Success"; // Do not modify. Test engineers might assert on this string. 
String baseErrorMsg = "File Creation Error"; // Do not modify. Test engineers might assert on this string.
String file = testExec.getStateString("file", "&lt;&lt;null&gt;&gt;").replace('\\', '/');
file = testExec.parseInState(file).replace('\\', '/');

try {
 if(createFile(file))
  return file;
 else
  return baseErrorMsg;
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-writePropFile-createFile-createFile</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-writeFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-writeFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

String baseErrorMsg = "File Write Error"; // Do not modify. Test engineers might assert on this string.
String baseSuccessMsg = "File Write Success"; // Do not modify. Test engineers might assert on this string.
String strFile = testExec.parseInState(file).replace('\\', '/');

File fileHandle = new File(strFile);
if (!fileHandle.exists())
  return baseErrorMsg + ": File '" + fileHandle + "' does not exist.";
if (!fileHandle.isFile())
  return baseErrorMsg + ": '" + fileHandle + "' is not a file.";
if (!fileHandle.canWrite())
  return baseErrorMsg + ": Cannot write in file '" + fileHandle + "'.";

if (encoding.equals("")) {
        BufferedWriter output = new BufferedWriter(new OutputStreamWriter
                                 (new FileOutputStream(fileHandle)));
	output.write(content);
	output.close();
	return baseSuccessMsg + ": File '" + fileHandle + "' now contains: \n" + content;
} else {
	BufferedWriter output = new BufferedWriter(new OutputStreamWriter
                                 (new FileOutputStream(fileHandle),encoding));
	output.write(content);
	output.close();
	return baseSuccessMsg + ": File '" + fileHandle + "' now contains: \n" + content;
}</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-writePropFile-writeFile</td><td><pre>File Write Success: File '/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties' now contains: 
amx.th.instance.name=QA-BAT-Host
amx.th.hpa.log.config.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml
amx.th.hpa.node.log.config.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-log4j.xml
amx.th.security.keystore.file=/opt/tibco/amx31x/tibcohost/3.1/templates/admin.default.ssl.trust.store.ts
amx.th.security.keystore.type=JCEKS
amx.th.security.keystore.password=#!llDFtm1IZoO9hFkLI83SMqigDHIE/V/n
amx.th.jmx.secure=false
amx.th.qin.server.url=tcp://AMX-BACKEND-4.na.tibco.com:7222
amx.th.qin.groupName=AMXAdmin_amxrel2qa1.na.tibco.com
amx.th.qin.userName=admin
amx.th.qin.pass=admin
amx.th.qin.startupInterval=3000
amx.th.qin.backoffInterval=0
amx.th.qin.recovery_timer_timeout=3000
amx.th.qin.recovery_attempt_delay=2000
amx.th.qin.secure=false
amx.th.qin.notificationTransport.impl=com.tibco.amf.hpa.core.runtime.management.impl.NotificationTransportImpl
amx.th.ems.identity.store.password=#!zIi9ux3C1uDzIZBJ2SjuWEKPpz4VMVLf3IEiSxdROOU=
amx.th.trinity.keyStoreLocation=/groupfiler/tests/tests/amsg/3.0/tests/func/runtime/bat/keystore/admin-emsconfig-tct.jks
amx.th.trinity.keyStorePassword=#!QInks0TXAJ7T8L2J1EyCwFrrp7lQ4aIYLyACrTmBLco=
amx.th.trinity.keyStoreType=JKS
amx.th.trinity.tcs.url=service:jmx:jmxmp://0.0.0.0:6041
amx.th.trinity.tcs.user=user1
amx.th.trinity.tcs.password=#!ebhOf5DT0a3G6g+x0McNKKslL/+xDZMULrekrfN1Zio=
amx.th.hpa.jmx.port=6051
amx.th.hpa.jmx.interface=amxrel2qa1.na.tibco.com
amx.th.process.prefix=tibamx_
amf.node.type=com.tibco.amf.hpa.tibcohost.node.hibernate.feature
amf.node.type.version=1.0.1
</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-success</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-writePropFile-success</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>return testExec.parseInState(file).replace('\\','/');</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-writePropFile-success</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-getTHInstanceName</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-getTHInstanceName</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/GetNameValuePairFromFile.tst</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-getTHInstanceName-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-getTHInstanceName-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-getTHInstanceName-Log</td><td><pre>Looking for amx.th.instance.name in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties ...</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-getTHInstanceName-getNameValuePairFromFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-getTHInstanceName-getNameValuePairFromFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

getNameValuePairFromFile(String fileName, String name, String assignChar) {
 try {
  File file = new File(fileName);
  String value = "&lt;&lt;null&gt;&gt;";
  
  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "r");
  String lineData = "";

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   // If we find the Name and it's not commented out
   //if(lineData.indexOf(name + assignchar) &gt;= 0 && !lineData.trim().startsWith("#")) {
   if(lineData.matches(name + ".*" + assignChar + ".*") && !lineData.trim().startsWith("#")) {
    value = lineData.substring(lineData.indexOf(assignChar) + 1).trim();
    break;
   }
  }
  raf.close();
  return value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
final String errorMsg = "Error getting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name);
assignChar = testExec.parseInState(assignChar);
return getNameValuePairFromFile(file, name, assignChar);
 </pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-getTHInstanceName-getNameValuePairFromFile</td><td><pre>QA-BAT-Host</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/InvokeAnt.tst</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-log</td><td><pre>Invoking ant with following variables:
buildFileName=/groupfiler/tests/tests/amsg/3.0/libraries/amx/com/tibco/tibcohost/BootstrapTibcoHost.xml
logFileName=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log
propertyFileName=
propertyList=amx.th.instance.name=QA-BAT-Host,tibcohost.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties,tibco.config.mgmt.home=/opt/tibco/amx31x/conf,TIBCO_HOST_HOME=/opt/tibco/amx31x/tibcohost/3.1
targetName=start-th
projectBaseDirName=/opt/tibco/amx31x/tibcohost/3.1/scripts
antOpts=-Djava.classes.dir=//opt/tibco/amx31x/tibcojre/1.7.0/jre/lib
additionalAntCmdLineArgs=
waitforCompletion=false</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyAntInClasspath</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyAntInClasspath</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.net.URL;
import java.lang.ClassLoader;
import java.net.URLClassLoader;
/*	
String verifyAntInClasspath1() {
		String response = "Fail: ant is not found in classpath.";
		try {
			ClassLoader classLoader = ClassLoader.getSystemClassLoader();
			URL url = classLoader.getResource("org/apache/tools/ant/Project.class"); 
			if (url == null) {
				return response+" null url";
			}			
		} catch(Exception e) {			  
				return response+" Exception is: "+e.getMessage();
		}
		response ="pass: ant is found in classpath.";
		return response;
	}

	

	String verifyAntInClasspath3() {
		String response = "Fail: ant is not found in classpath.";
		try {
			ClassLoader classLoader = com.itko.util.cpdlg.JavaUtils.getClassLoader();
			URL[] urls = ((URLClassLoader)classLoader).getURLs();
			
			for(int i = 0; i &lt; urls.length; i++) {
				response="\n"+urls[i].getPath();
			}
					
		} catch(Exception e) {			  
				return response;
		}
		// response ="pass: ant is found in classpath.";
		return response;
	}

	String verifyAntInClasspath4() {
		String response = "Fail: ant is not found in classpath.";
		try {
			String[] rl = com.itko.util.cpdlg.JavaUtils.getClasspath();
			for(int i = 0; i &lt; rl.length; i++) {
				response=response+"\n"+rl[i];
			}		
		} catch(Exception e) {			  
				return response;
		}
		// response ="pass: ant is found in classpath.";
		return response;
	}


	String verifyAntInClasspath2() {
		String response = "Fail: ant is not found in classpath.";
		try {
			ClassLoader classLoader = com.itko.lisa.test.Environment.getClassLoader();
			URL url = classLoader.getResource("org/apache/tools/ant/Project.class"); 
			if (url == null) {
				return response;
			}			
		} catch(Exception e) {			  
				return response+" Exception is: "+e.getMessage();
		}
		response ="Pass: ant is found in classpath.";
		return response;
	}

	static String verifyAntInClasspath() {
		String response = "Fail: ant is not found in classpath.";
		try {
			com.itko.lisa.test.TestExec.class.forName("org.apache.tools.ant.Project");	
		}catch(Exception e) {
			return response+e.getMessage();
		}
		response ="pass: ant is found in classpath.";
		return response;
	
	}

*/

	String verifyAntInClasspath() {
		String response = "Fail: ant is not found in classpath.";
		try {
			// com.itko.util.cpdlg.JavaUtils.getClassLoader();
			ClassLoader classLoader = com.itko.lisa.test.Environment.getClassLoader();
			URL url = classLoader.getResource("org/apache/tools/ant/Project.class"); 
			if (url == null) {
				return response;
			}			
		} catch(Exception e) {			  
				return response;
		}
		response ="Pass: ant is found in classpath.";
		return response;
	}
	

return verifyAntInClasspath();</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyAntInClasspath</td><td><pre>Pass: ant is found in classpath.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyAntVersion</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyAntVersion</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Set;


String verifyAnt() {
		String response = "Fail:";
		String version = null;
		try {
			version = org.apache.tools.ant.Main.getAntVersion();
			// version = "Apache Ant version 1.7.1 compiled on June 27";
		}catch(Exception e) {
			if ( e instanceof ClassNotFoundException) {
				response = response+" Did not find ant in classpath!";
				return response;
			}
			response = response+" Could not get the version of ant";
			return response;
		}
		
		String [] versionArray = version.split(" ");
		if (versionArray.length != 9) {
			try {
				Properties props = new Properties();
				  InputStream in = org.apache.tools.ant.Main.class.getResourceAsStream("/org/apache/tools/ant/version.txt");
				  props.load(in);
				  in.close();
				  version = props.getProperty("VERSION");
			}catch(Exception e) {
				response = response+" Could not verify the version of ant. the version returned is: "+version;
				return response;
			}			
			
		}else {
			version = versionArray[3];
		}
		
		versionArray = version.split("\\.");
		if (versionArray.length != 3) {
			response = response+" Could not verify the version of ant. the version returned is: "+version;
			// response = response+"\n"+" Expected version format is: x.y.z";
			return response;
		}
		
		version = versionArray[0]+"."+versionArray[1];
		
		if (Double.parseDouble(version) &lt; 1.7) {
			response = response+"The version of ant should be at least 1.7.x. Current Version is: "+versionArray[0]+"."+versionArray[1];
			return response;
		}
		response = "Pass: ant verified successfully.";
		return response;
	}

return verifyAnt();</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyAntVersion</td><td><pre>Pass: ant verified successfully.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyInputVariables</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyInputVariables</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Set;

String checkInputVariables() {
		String response = "Fail:";
		try {
			if ((buildFileName == null) || (buildFileName.equals("")) ) {
				throw new Exception("buildFileName cannot be null.");
			}
           
			File buildFile = new File(testExec.parseInState(buildFileName).replace('\\', '/'));
			if (!buildFile.canRead()) {
				throw new Exception("Build file not found/cannot read it. "+buildFileName);
			}
			if (!buildFile.isFile()) {				
				throw new Exception("build file is not a normal file. "+buildFileName);
			}
						
			File propertyFile = null;
			if ((propertyFileName != null) && (!propertyFileName.equals(""))) {
				propertyFile = new File(testExec.parseInState(propertyFileName).replace('\\', '/'));
				if (!propertyFile.canRead()) {
					throw new Exception("Property file not found/cannot read it. "+propertyFileName);
				}
				if (!propertyFile.isFile()) {
					throw new Exception("property file is not a normal file. "+propertyFileName);
				}
				
			}

			File projectBaseDir = null;
			if ((projectBaseDirName != null) && (!projectBaseDirName.equals(""))) {
				projectBaseDir = new File(testExec.parseInState(projectBaseDirName).replace('\\', '/'));
				if((!projectBaseDir.exists()) || (!projectBaseDir.isDirectory())) {
					throw new Exception("The project base directory is not valid. "+projectBaseDirName);
				}
			}

            // Let's also verify if TIBCO_JAVA_HOME exists since we use that to launch Ant
            File javaHome = new File(testExec.parseInState(TIBCO_JAVA_HOME).replace('\\', '/'));
            if (!javaHome.exists()) {
                throw new Exception("Java home directory is not valid: " + TIBCO_JAVA_HOME);
            }

			response = "Pass: Input variables are valid.";

		}catch(Exception e) {
			response = "Fail: "+e.getLocalizedMessage();
		}
		return response;
	}

return checkInputVariables();</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-verifyInputVariables</td><td><pre>Pass: Input variables are valid.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-getAntArguments</td><td><pre>This step gets the arguments to be passed to the ant invocation.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-getAntArguments</td><td><pre>This step gets the arguments to be passed to the ant invocation.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Set;

import org.apache.tools.ant.DefaultLogger;
import org.apache.tools.ant.Project;
import org.apache.tools.ant.ProjectHelper;

	
			String getAntArgs() {
			String response = "";
			FileInputStream fis = null;
			try {
				File propertyFile = null;
						
				Properties props = null;
							
				if ((propertyFileName != null) && (!propertyFileName.equals(""))) {
					response = response+" -propertyfile "+propertyFileName.replace("\\","/");
				}
				
				if ((propertyList != null) && (!propertyList.equals(""))) {
					String [] propArray = propertyList.split(",");
					for (int i =0; i &lt; propArray.length; i++) {
						String [] keyPair = propArray[i].split("=");
						if (keyPair.length == 1) continue;
							//should we trim empty spaces?
						response = response+" -D"+(String)keyPair[0]+"="+(String)keyPair[1];
					}
				}
                if ((projectBaseDirName != null) && (!projectBaseDirName.equals(""))) {
                    response = response+" -D"+"basedir=\""+(String)projectBaseDirName.replace("\\","/") + "\"";
                }
                else {
                    response = response+" -D"+"basedir=\""+(String)LISA_TC_PATH.replace("\\","/") + "\"";
                }
	            
				
				
			}catch(Exception e) {
				response = "Fail: "+e;
			}finally {
				try {				
					if (fis != null) fis.close();				
				}catch(Exception ioe) {
					//ignore.
				}
			}
			//System.out.println("response is:"+response);
			return response;
		}
return getAntArgs();</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-getAntArguments</td><td><pre> -Damx.th.instance.name=QA-BAT-Host -Dtibcohost.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties -Dtibco.config.mgmt.home=/opt/tibco/amx31x/conf -DTIBCO_HOST_HOME=/opt/tibco/amx31x/tibcohost/3.1 -Dbasedir="/opt/tibco/amx31x/tibcohost/3.1/scripts"</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-getProjectBaseDir</td><td><pre>This step gets the arguments to be passed to the ant invocation.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-getProjectBaseDir</td><td><pre>This step gets the arguments to be passed to the ant invocation.</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Set;
	
		String getProjectbaseDir() {
			String baseDir = "";
            if ((projectBaseDirName != null) && (!projectBaseDirName.equals(""))) {
                baseDir=(String)projectBaseDirName;
            }
            else {
                baseDir=(String)LISA_TC_PATH;
            }
			//System.out.println("baseDir is:"+baseDir);
			return baseDir;
		}
return getProjectbaseDir();</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-getProjectBaseDir</td><td><pre>/opt/tibco/amx31x/tibcohost/3.1/scripts</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-invokeAntFromCommandLine</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-invokeAntFromCommandLine</td><td><pre></pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/opt/tibco/amx31x/tibcojre/1.7.0/bin/java -Djava.classes.dir=//opt/tibco/amx31x/tibcojre/1.7.0/jre/lib -cp :/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-launcher.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-trax.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-contrib.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-nodeps.jar org.apache.tools.ant.launch.Launcher   -Damx.th.instance.name=QA-BAT-Host -Dtibcohost.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties -Dtibco.config.mgmt.home=/opt/tibco/amx31x/conf -DTIBCO_HOST_HOME=/opt/tibco/amx31x/tibcohost/3.1 -Dbasedir="/opt/tibco/amx31x/tibcohost/3.1/scripts" -logfile "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log" -buildfile "/groupfiler/tests/tests/amsg/3.0/libraries/amx/com/tibco/tibcohost/BootstrapTibcoHost.xml" start-th</pre></td><td>Mon Sep 03 21:38:03 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-invokeAntFromCommandLine</td><td><pre>Executed /opt/tibco/amx31x/tibcojre/1.7.0/bin/java -Djava.classes.dir=//opt/tibco/amx31x/tibcojre/1.7.0/jre/lib -cp :/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-launcher.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-trax.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-contrib.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-nodeps.jar org.apache.tools.ant.launch.Launcher   -Damx.th.instance.name=QA-BAT-Host -Dtibcohost.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties -Dtibco.config.mgmt.home=/opt/tibco/amx31x/conf -DTIBCO_HOST_HOME=/opt/tibco/amx31x/tibcohost/3.1 -Dbasedir="/opt/tibco/amx31x/tibcohost/3.1/scripts" -logfile "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log" -buildfile "/groupfiler/tests/tests/amsg/3.0/libraries/amx/com/tibco/tibcohost/BootstrapTibcoHost.xml" start-th without waiting for completion</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-checkCondition</td><td><pre></pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-checkCondition</td><td><pre></pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

/* check for waitForCompletion flag and logFile flag
   return true only when both are true
   if true is returned then - ant log file is being read and output is
   sent to the console
   if false is returned then - test case ends 
*/

if ( (waitForCompletion) &&
     ((logFileName != null) && (!logFileName.equals("")) ) )  
{
       return "true"; 
}else {  
    return ""; 
}</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-bootstrapTIBCOHost-checkCondition</td><td><pre></pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>Calendar future = Calendar.getInstance();
future.add(Calendar.SECOND, timeout.intValue());
testExec.setStateValue("future", future);</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-getTimeLimit</td><td><pre>(no response)</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep</td><td><pre>repeat sleep</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep</td><td><pre>repeat sleep</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/Sleep.tst</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre>Sleeping for 5 on Windows or 5 on Unix ...</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre></pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre></pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>sleep(secStr) {
  try {
    int secInt = Integer.parseInt(secStr);
    if (secInt &lt; 0) Thread.sleep(0);
    else Thread.sleep(secInt*1000);
  }
  catch(NumberFormatException nfe) {
    Thread.sleep(0);
  }
}

if (System.getProperty("os.name").toLowerCase().indexOf("windows") &gt; -1)
  sleep("5");
else
  sleep("5");</pre></td><td>Mon Sep 03 21:38:04 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre>(no response)</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists</td><td><pre>check if log file got created</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists</td><td><pre>check if log file got created</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CheckFileExists.tst</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre>Checking existence of file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log" ...</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function checks for file existence
checkFileExists(String strFile) {
 File f = new File(strFile);
 return f.exists();         
}

// Main 
String baseErrorMsg = "File Check Error"; // Do not modify. Test engineers might assert on this string.
file = testExec.parseInState(file).replace('\\','/');

try {
 return checkFileExists(file);
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre>true</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>read log and look for tibcohost started message</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>read log and look for tibcohost started message</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>
start-th:

-load-instance-properties:
     [echo] loading instance configuration properties from /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties

-define-hpa-tibcohost-tasks:

-define-hpa-client-tasks:

-init:

add:
     [echo] 
     [echo]         Creating new TIBCO Host instance with name 'QA-BAT-Host' in /opt/tibco/amx31x/conf/tibcohost/QA-BAT-Host.
     [echo]         
</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep</td><td><pre>repeat sleep</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep</td><td><pre>repeat sleep</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/Sleep.tst</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre>Sleeping for 5 on Windows or 5 on Unix ...</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre></pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre></pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>sleep(secStr) {
  try {
    int secInt = Integer.parseInt(secStr);
    if (secInt &lt; 0) Thread.sleep(0);
    else Thread.sleep(secInt*1000);
  }
  catch(NumberFormatException nfe) {
    Thread.sleep(0);
  }
}

if (System.getProperty("os.name").toLowerCase().indexOf("windows") &gt; -1)
  sleep("5");
else
  sleep("5");</pre></td><td>Mon Sep 03 21:38:09 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre>(no response)</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists</td><td><pre>check if log file got created</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists</td><td><pre>check if log file got created</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CheckFileExists.tst</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre>Checking existence of file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log" ...</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function checks for file existence
checkFileExists(String strFile) {
 File f = new File(strFile);
 return f.exists();         
}

// Main 
String baseErrorMsg = "File Check Error"; // Do not modify. Test engineers might assert on this string.
file = testExec.parseInState(file).replace('\\','/');

try {
 return checkFileExists(file);
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre>true</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>read log and look for tibcohost started message</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>read log and look for tibcohost started message</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>
start-th:

-load-instance-properties:
     [echo] loading instance configuration properties from /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties

-define-hpa-tibcohost-tasks:

-define-hpa-client-tasks:

-init:

add:
     [echo] 
     [echo]         Creating new TIBCO Host instance with name 'QA-BAT-Host' in /opt/tibco/amx31x/conf/tibcohost/QA-BAT-Host.
     [echo]         
[hpa.client.CreateHost] Creating new host of type "TibcoHost"
[hpa.client.CreateHost]     th.host.create.callbackurl.secure = false
[hpa.client.CreateHost]     th.host.create.defaultNodeLog4JConfigFile = /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-log4j.xml
[hpa.client.CreateHost]     th.host.create.hostLogConfigFile = /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml
[hpa.client.CreateHost]     th.host.create.instanceName = QA-BAT-Host
[hpa.client.CreateHost]     th.host.create.jmx.interface = amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     th.host.create.jmx.port = 6051
[hpa.client.CreateHost]     th.host.create.jmx.secure = false
[hpa.client.CreateHost]     th.host.create.keystore.file = /opt/tibco/amx31x/tibcohost/3.1/templates/admin.default.ssl.trust.store.ts
[hpa.client.CreateHost]     th.host.create.keystore.password = #!llDFtm1IZoO9hFkLI83SMqigDHIE/V/n
[hpa.client.CreateHost]     th.host.create.keystore.type = JCEKS
[hpa.client.CreateHost]     th.host.create.processPrefix = tibamx_
[hpa.client.CreateHost]     th.host.create.qin.backoffInterval = 0
[hpa.client.CreateHost]     th.host.create.qin.emsIdentityStorePassword = #!zIi9ux3C1uDzIZBJ2SjuWEKPpz4VMVLf3IEiSxdROOU=
[hpa.client.CreateHost]     th.host.create.qin.enabled = true
[hpa.client.CreateHost]     th.host.create.qin.groupName = AMXAdmin_amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     th.host.create.qin.password = admin
[hpa.client.CreateHost]     th.host.create.qin.recoveryAttemptDelay = 2000
[hpa.client.CreateHost]     th.host.create.qin.recoveryTimerTimeout = 3000
[hpa.client.CreateHost]     th.host.create.qin.secure = false
[hpa.client.CreateHost]     th.host.create.qin.serverURL = tcp://AMX-BACKEND-4.na.tibco.com:7222
[hpa.client.CreateHost]     th.host.create.qin.startupInterval = 3000
[hpa.client.CreateHost]     th.host.create.qin.userName = admin
[hpa.client.CreateHost]     th.host.create.runAsNTService = false
[hpa.client.CreateHost]     th.host.create.tibcoConfigHome = /opt/tibco/amx31x/conf
[hpa.client.CreateHost]     th.host.create.tibcoHome = /opt/tibco/amx31x
[hpa.client.CreateHost]     th.host.create.tibcoHostInstallation = /opt/tibco/amx31x/tibcohost/3.1
[hpa.client.CreateHost]     th.host.create.trinity.keyStoreLocation = /groupfiler/tests/tests/amsg/3.0/tests/func/runtime/bat/keystore/admin-emsconfig-tct.jks
[hpa.client.CreateHost]     th.host.create.trinity.keyStorePassword = #!QInks0TXAJ7T8L2J1EyCwFrrp7lQ4aIYLyACrTmBLco=
[hpa.client.CreateHost]     th.host.create.trinity.keyStoreType = JKS
[hpa.client.CreateHost]     th.host.create.trinity.tcs.password = #!ebhOf5DT0a3G6g+x0McNKKslL/+xDZMULrekrfN1Zio=
[hpa.client.CreateHost]     th.host.create.trinity.tcs.url = service:jmx:jmxmp://0.0.0.0:6041
[hpa.client.CreateHost]     th.host.create.trinity.tcs.userName = user1
[hpa.client.CreateHost] Created new host
[hpa.client.CreateHost] Host description follows:
[hpa.client.CreateHost]     Host name: 
[hpa.client.CreateHost]     Enterprise name: null
[hpa.client.CreateHost]     HPA instance name: QA-BAT-Host
[hpa.client.CreateHost]     Bind status: unbound
[hpa.client.CreateHost]     Internet host name: amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     HPA type: TibcoHost
[hpa.client.CreateHost]     HPA version: 2.0.0
[hpa.client.CreateHost]     Host platform version: 3.1.5
[hpa.client.CreateHost]     Connect URL: service:jmx:jmxmp://amxrel2qa1.na.tibco.com:6051
[hpa.client.CreateHost]     O/S name: Linux
[hpa.client.CreateHost]     O/S version: 2.6.27.19-5-default
[hpa.client.CreateHost]     O/S process ID: -1
[hpa.client.CreateHost]     System architecture: i386
[hpa.client.CreateHost]     Secure connection: false

start:
[hpa.tibcohost.Start] Starting TIBCO Host.
[hpa.tibcohost.Start] Started TIBCO Host.
</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep</td><td><pre>repeat sleep</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep</td><td><pre>repeat sleep</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/Sleep.tst</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-repeatingSleep-Log</td><td><pre>Sleeping for 5 on Windows or 5 on Unix ...</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre></pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre></pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>sleep(secStr) {
  try {
    int secInt = Integer.parseInt(secStr);
    if (secInt &lt; 0) Thread.sleep(0);
    else Thread.sleep(secInt*1000);
  }
  catch(NumberFormatException nfe) {
    Thread.sleep(0);
  }
}

if (System.getProperty("os.name").toLowerCase().indexOf("windows") &gt; -1)
  sleep("5");
else
  sleep("5");</pre></td><td>Mon Sep 03 21:38:14 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingSleep-sleep</td><td><pre>(no response)</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists</td><td><pre>check if log file got created</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists</td><td><pre>check if log file got created</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CheckFileExists.tst</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-Log</td><td><pre>Checking existence of file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log" ...</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;

// This function checks for file existence
checkFileExists(String strFile) {
 File f = new File(strFile);
 return f.exists();         
}

// Main 
String baseErrorMsg = "File Check Error"; // Do not modify. Test engineers might assert on this string.
file = testExec.parseInState(file).replace('\\','/');

try {
 return checkFileExists(file);
}
catch(Exception e) {
 return baseErrorMsg + ": " + e.getMessage();
}</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingCheckLogFileExists-checkFileExists</td><td><pre>true</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>read log and look for tibcohost started message</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>read log and look for tibcohost started message</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapTibcohost.log</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-repeatingReadLog</td><td><pre>
start-th:

-load-instance-properties:
     [echo] loading instance configuration properties from /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties

-define-hpa-tibcohost-tasks:

-define-hpa-client-tasks:

-init:

add:
     [echo] 
     [echo]         Creating new TIBCO Host instance with name 'QA-BAT-Host' in /opt/tibco/amx31x/conf/tibcohost/QA-BAT-Host.
     [echo]         
[hpa.client.CreateHost] Creating new host of type "TibcoHost"
[hpa.client.CreateHost]     th.host.create.callbackurl.secure = false
[hpa.client.CreateHost]     th.host.create.defaultNodeLog4JConfigFile = /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-log4j.xml
[hpa.client.CreateHost]     th.host.create.hostLogConfigFile = /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml
[hpa.client.CreateHost]     th.host.create.instanceName = QA-BAT-Host
[hpa.client.CreateHost]     th.host.create.jmx.interface = amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     th.host.create.jmx.port = 6051
[hpa.client.CreateHost]     th.host.create.jmx.secure = false
[hpa.client.CreateHost]     th.host.create.keystore.file = /opt/tibco/amx31x/tibcohost/3.1/templates/admin.default.ssl.trust.store.ts
[hpa.client.CreateHost]     th.host.create.keystore.password = #!llDFtm1IZoO9hFkLI83SMqigDHIE/V/n
[hpa.client.CreateHost]     th.host.create.keystore.type = JCEKS
[hpa.client.CreateHost]     th.host.create.processPrefix = tibamx_
[hpa.client.CreateHost]     th.host.create.qin.backoffInterval = 0
[hpa.client.CreateHost]     th.host.create.qin.emsIdentityStorePassword = #!zIi9ux3C1uDzIZBJ2SjuWEKPpz4VMVLf3IEiSxdROOU=
[hpa.client.CreateHost]     th.host.create.qin.enabled = true
[hpa.client.CreateHost]     th.host.create.qin.groupName = AMXAdmin_amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     th.host.create.qin.password = admin
[hpa.client.CreateHost]     th.host.create.qin.recoveryAttemptDelay = 2000
[hpa.client.CreateHost]     th.host.create.qin.recoveryTimerTimeout = 3000
[hpa.client.CreateHost]     th.host.create.qin.secure = false
[hpa.client.CreateHost]     th.host.create.qin.serverURL = tcp://AMX-BACKEND-4.na.tibco.com:7222
[hpa.client.CreateHost]     th.host.create.qin.startupInterval = 3000
[hpa.client.CreateHost]     th.host.create.qin.userName = admin
[hpa.client.CreateHost]     th.host.create.runAsNTService = false
[hpa.client.CreateHost]     th.host.create.tibcoConfigHome = /opt/tibco/amx31x/conf
[hpa.client.CreateHost]     th.host.create.tibcoHome = /opt/tibco/amx31x
[hpa.client.CreateHost]     th.host.create.tibcoHostInstallation = /opt/tibco/amx31x/tibcohost/3.1
[hpa.client.CreateHost]     th.host.create.trinity.keyStoreLocation = /groupfiler/tests/tests/amsg/3.0/tests/func/runtime/bat/keystore/admin-emsconfig-tct.jks
[hpa.client.CreateHost]     th.host.create.trinity.keyStorePassword = #!QInks0TXAJ7T8L2J1EyCwFrrp7lQ4aIYLyACrTmBLco=
[hpa.client.CreateHost]     th.host.create.trinity.keyStoreType = JKS
[hpa.client.CreateHost]     th.host.create.trinity.tcs.password = #!ebhOf5DT0a3G6g+x0McNKKslL/+xDZMULrekrfN1Zio=
[hpa.client.CreateHost]     th.host.create.trinity.tcs.url = service:jmx:jmxmp://0.0.0.0:6041
[hpa.client.CreateHost]     th.host.create.trinity.tcs.userName = user1
[hpa.client.CreateHost] Created new host
[hpa.client.CreateHost] Host description follows:
[hpa.client.CreateHost]     Host name: 
[hpa.client.CreateHost]     Enterprise name: null
[hpa.client.CreateHost]     HPA instance name: QA-BAT-Host
[hpa.client.CreateHost]     Bind status: unbound
[hpa.client.CreateHost]     Internet host name: amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     HPA type: TibcoHost
[hpa.client.CreateHost]     HPA version: 2.0.0
[hpa.client.CreateHost]     Host platform version: 3.1.5
[hpa.client.CreateHost]     Connect URL: service:jmx:jmxmp://amxrel2qa1.na.tibco.com:6051
[hpa.client.CreateHost]     O/S name: Linux
[hpa.client.CreateHost]     O/S version: 2.6.27.19-5-default
[hpa.client.CreateHost]     O/S process ID: -1
[hpa.client.CreateHost]     System architecture: i386
[hpa.client.CreateHost]     Secure connection: false

start:
[hpa.tibcohost.Start] Starting TIBCO Host.
[hpa.tibcohost.Start] Started TIBCO Host.
[hpa.tibcohost.Start] TIBCO Host status is RUNNING.

create-and-start:

BUILD SUCCESSFUL
Total time: 12 seconds
</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CC9933'><td>EVENT_ASSERT</td><td>bootstrapTIBCOHost-repeatingReadLog [Assert148] </td><td><pre>TIBCOHost has been started Successfully.
Result did not contain string. Looked for 'BUILD SUCCESSFUL' in result '
start-th:

-load-instance-properties:
     [echo] loading instance configuration properties from /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties

-define-hpa-tibcohost-tasks:

-define-hpa-client-tasks:

-init:

add:
     [echo] 
     [echo]         Creating new TIBCO Host instance with name 'QA-BAT-Host' in /opt/tibco/amx31x/conf/tibcohost/QA-BAT-Host.
     [echo]         
[hpa.client.CreateHost] Creating new host of type "TibcoHost"
[hpa.client.CreateHost]     th.host.create.callbackurl.secure = false
[hpa.client.CreateHost]     th.host.create.defaultNodeLog4JConfigFile = /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-log4j.xml
[hpa.client.CreateHost]     th.host.create.hostLogConfigFile = /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml
[hpa.client.CreateHost]     th.host.create.instanceName = QA-BAT-Host
[hpa.client.CreateHost]     th.host.create.jmx.interface = amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     th.host.create.jmx.port = 6051
[hpa.client.CreateHost]     th.host.create.jmx.secure = false
[hpa.client.CreateHost]     th.host.create.keystore.file = /opt/tibco/amx31x/tibcohost/3.1/templates/admin.default.ssl.trust.store.ts
[hpa.client.CreateHost]     th.host.create.keystore.password = #!llDFtm1IZoO9hFkLI83SMqigDHIE/V/n
[hpa.client.CreateHost]     th.host.create.keystore.type = JCEKS
[hpa.client.CreateHost]     th.host.create.processPrefix = tibamx_
[hpa.client.CreateHost]     th.host.create.qin.backoffInterval = 0
[hpa.client.CreateHost]     th.host.create.qin.emsIdentityStorePassword = #!zIi9ux3C1uDzIZBJ2SjuWEKPpz4VMVLf3IEiSxdROOU=
[hpa.client.CreateHost]     th.host.create.qin.enabled = true
[hpa.client.CreateHost]     th.host.create.qin.groupName = AMXAdmin_amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     th.host.create.qin.password = admin
[hpa.client.CreateHost]     th.host.create.qin.recoveryAttemptDelay = 2000
[hpa.client.CreateHost]     th.host.create.qin.recoveryTimerTimeout = 3000
[hpa.client.CreateHost]     th.host.create.qin.secure = false
[hpa.client.CreateHost]     th.host.create.qin.serverURL = tcp://AMX-BACKEND-4.na.tibco.com:7222
[hpa.client.CreateHost]     th.host.create.qin.startupInterval = 3000
[hpa.client.CreateHost]     th.host.create.qin.userName = admin
[hpa.client.CreateHost]     th.host.create.runAsNTService = false
[hpa.client.CreateHost]     th.host.create.tibcoConfigHome = /opt/tibco/amx31x/conf
[hpa.client.CreateHost]     th.host.create.tibcoHome = /opt/tibco/amx31x
[hpa.client.CreateHost]     th.host.create.tibcoHostInstallation = /opt/tibco/amx31x/tibcohost/3.1
[hpa.client.CreateHost]     th.host.create.trinity.keyStoreLocation = /groupfiler/tests/tests/amsg/3.0/tests/func/runtime/bat/keystore/admin-emsconfig-tct.jks
[hpa.client.CreateHost]     th.host.create.trinity.keyStorePassword = #!QInks0TXAJ7T8L2J1EyCwFrrp7lQ4aIYLyACrTmBLco=
[hpa.client.CreateHost]     th.host.create.trinity.keyStoreType = JKS
[hpa.client.CreateHost]     th.host.create.trinity.tcs.password = #!ebhOf5DT0a3G6g+x0McNKKslL/+xDZMULrekrfN1Zio=
[hpa.client.CreateHost]     th.host.create.trinity.tcs.url = service:jmx:jmxmp://0.0.0.0:6041
[hpa.client.CreateHost]     th.host.create.trinity.tcs.userName = user1
[hpa.client.CreateHost] Created new host
[hpa.client.CreateHost] Host description follows:
[hpa.client.CreateHost]     Host name: 
[hpa.client.CreateHost]     Enterprise name: null
[hpa.client.CreateHost]     HPA instance name: QA-BAT-Host
[hpa.client.CreateHost]     Bind status: unbound
[hpa.client.CreateHost]     Internet host name: amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     HPA type: TibcoHost
[hpa.client.CreateHost]     HPA version: 2.0.0
[hpa.client.CreateHost]     Host platform version: 3.1.5
[hpa.client.CreateHost]     Connect URL: service:jmx:jmxmp://amxrel2qa1.na.tibco.com:6051
[hpa.client.CreateHost]     O/S name: Linux
[hpa.client.CreateHost]     O/S version: 2.6.27.19-5-default
[hpa.client.CreateHost]     O/S process ID: -1
[hpa.client.CreateHost]     System architecture: i386
[hpa.client.CreateHost]     Secure connection: false

start:
[hpa.tibcohost.Start] Starting TIBCO Host.
[hpa.tibcohost.Start] Started TIBCO Host.
'</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-success</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapTIBCOHost-success</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>return antLogContent;</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapTIBCOHost-success</td><td><pre>
start-th:

-load-instance-properties:
     [echo] loading instance configuration properties from /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties

-define-hpa-tibcohost-tasks:

-define-hpa-client-tasks:

-init:

add:
     [echo] 
     [echo]         Creating new TIBCO Host instance with name 'QA-BAT-Host' in /opt/tibco/amx31x/conf/tibcohost/QA-BAT-Host.
     [echo]         
[hpa.client.CreateHost] Creating new host of type "TibcoHost"
[hpa.client.CreateHost]     th.host.create.callbackurl.secure = false
[hpa.client.CreateHost]     th.host.create.defaultNodeLog4JConfigFile = /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/node-log4j.xml
[hpa.client.CreateHost]     th.host.create.hostLogConfigFile = /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/hpa-log4j.xml
[hpa.client.CreateHost]     th.host.create.instanceName = QA-BAT-Host
[hpa.client.CreateHost]     th.host.create.jmx.interface = amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     th.host.create.jmx.port = 6051
[hpa.client.CreateHost]     th.host.create.jmx.secure = false
[hpa.client.CreateHost]     th.host.create.keystore.file = /opt/tibco/amx31x/tibcohost/3.1/templates/admin.default.ssl.trust.store.ts
[hpa.client.CreateHost]     th.host.create.keystore.password = #!llDFtm1IZoO9hFkLI83SMqigDHIE/V/n
[hpa.client.CreateHost]     th.host.create.keystore.type = JCEKS
[hpa.client.CreateHost]     th.host.create.processPrefix = tibamx_
[hpa.client.CreateHost]     th.host.create.qin.backoffInterval = 0
[hpa.client.CreateHost]     th.host.create.qin.emsIdentityStorePassword = #!zIi9ux3C1uDzIZBJ2SjuWEKPpz4VMVLf3IEiSxdROOU=
[hpa.client.CreateHost]     th.host.create.qin.enabled = true
[hpa.client.CreateHost]     th.host.create.qin.groupName = AMXAdmin_amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     th.host.create.qin.password = admin
[hpa.client.CreateHost]     th.host.create.qin.recoveryAttemptDelay = 2000
[hpa.client.CreateHost]     th.host.create.qin.recoveryTimerTimeout = 3000
[hpa.client.CreateHost]     th.host.create.qin.secure = false
[hpa.client.CreateHost]     th.host.create.qin.serverURL = tcp://AMX-BACKEND-4.na.tibco.com:7222
[hpa.client.CreateHost]     th.host.create.qin.startupInterval = 3000
[hpa.client.CreateHost]     th.host.create.qin.userName = admin
[hpa.client.CreateHost]     th.host.create.runAsNTService = false
[hpa.client.CreateHost]     th.host.create.tibcoConfigHome = /opt/tibco/amx31x/conf
[hpa.client.CreateHost]     th.host.create.tibcoHome = /opt/tibco/amx31x
[hpa.client.CreateHost]     th.host.create.tibcoHostInstallation = /opt/tibco/amx31x/tibcohost/3.1
[hpa.client.CreateHost]     th.host.create.trinity.keyStoreLocation = /groupfiler/tests/tests/amsg/3.0/tests/func/runtime/bat/keystore/admin-emsconfig-tct.jks
[hpa.client.CreateHost]     th.host.create.trinity.keyStorePassword = #!QInks0TXAJ7T8L2J1EyCwFrrp7lQ4aIYLyACrTmBLco=
[hpa.client.CreateHost]     th.host.create.trinity.keyStoreType = JKS
[hpa.client.CreateHost]     th.host.create.trinity.tcs.password = #!ebhOf5DT0a3G6g+x0McNKKslL/+xDZMULrekrfN1Zio=
[hpa.client.CreateHost]     th.host.create.trinity.tcs.url = service:jmx:jmxmp://0.0.0.0:6041
[hpa.client.CreateHost]     th.host.create.trinity.tcs.userName = user1
[hpa.client.CreateHost] Created new host
[hpa.client.CreateHost] Host description follows:
[hpa.client.CreateHost]     Host name: 
[hpa.client.CreateHost]     Enterprise name: null
[hpa.client.CreateHost]     HPA instance name: QA-BAT-Host
[hpa.client.CreateHost]     Bind status: unbound
[hpa.client.CreateHost]     Internet host name: amxrel2qa1.na.tibco.com
[hpa.client.CreateHost]     HPA type: TibcoHost
[hpa.client.CreateHost]     HPA version: 2.0.0
[hpa.client.CreateHost]     Host platform version: 3.1.5
[hpa.client.CreateHost]     Connect URL: service:jmx:jmxmp://amxrel2qa1.na.tibco.com:6051
[hpa.client.CreateHost]     O/S name: Linux
[hpa.client.CreateHost]     O/S version: 2.6.27.19-5-default
[hpa.client.CreateHost]     O/S process ID: -1
[hpa.client.CreateHost]     System architecture: i386
[hpa.client.CreateHost]     Secure connection: false

start:
[hpa.tibcohost.Start] Starting TIBCO Host.
[hpa.tibcohost.Start] Started TIBCO Host.
[hpa.tibcohost.Start] TIBCO Host status is RUNNING.

create-and-start:

BUILD SUCCESSFUL
Total time: 12 seconds
</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>createAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>createAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/file/CopyFile.tst</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>createAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>createAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>createAdminPropFile-Log</td><td><pre>Copying file 
"/groupfiler/tests/tests/amsg/3.0/tests/func/runtime/bat/setup/admin.properties.template" to 
"/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties"</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>createAdminPropFile-copyFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>createAdminPropFile-copyFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

copyFile(String fileIn, String fileOut) {
 // Do not modify next 2 variables. 
 // Test engineers might have assertion on these strings.
 String baseSuccessMsg = "File Copy Success";
 String baseErrorMsg = "File Copy Error";

 try {
  File fi = new File(fileIn);
  File fo = new File(fileOut);

  // We don't copy directory!
  if (fi.isDirectory())
   return baseErrorMsg + ": Source cannot be a directory !"; 
  
  // If destination is a directory, we'll copy the source file in there
  if (fo.exists() && fo.isDirectory())
   fo = new File(fo, fi.getName());

  FileInputStream fis  = new FileInputStream(fi);
  FileOutputStream fos = new FileOutputStream(fo);
  
  byte[] buf = new byte[1024];
  int i = 0;
  while((i = fis.read(buf))!= -1) {
   fos.write(buf, 0, i);
  }
  fis.close();
  fos.close();
  return fileOut;
 }
 catch (Exception e) {
  return baseErrorMsg + ": " + e.getMessage();
 }
}

// Main
fileIn = testExec.parseInState(fileIn).replace('\\','/');
fileOut = testExec.parseInState(fileOut).replace('\\','/');
return copyFile(fileIn, fileOut);</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>createAdminPropFile-copyFile</td><td><pre>/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "adminURL=http://localhost:8120" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: adminURL=http://localhost:8120</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "username=root" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: username=root</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "password=t" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: password=t</pre></td><td>Mon Sep 03 21:38:19 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "httpAuthType=basic" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: httpAuthType=basic</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "javax.net.ssl.trustStore=" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: javax.net.ssl.trustStore=</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "javax.net.ssl.trustStoreType=" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: javax.net.ssl.trustStoreType=</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "javax.net.ssl.trustStorePassword=" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: javax.net.ssl.trustStorePassword=</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "admin.cli.ssl.keystorelocation=/opt/tibco/amx31x/conf/admin/samples/adminCliKeystore.jceks" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: admin.cli.ssl.keystorelocation=/opt/tibco/amx31x/conf/admin/samples/adminCliKeystore.jceks</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "admin.cli.ssl.keystorepassword=#!F2vplsUatM3B6+lsDcSbWpgO5i5cfznNQAD3anjhExnDL6tQPzKdmw==" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: admin.cli.ssl.keystorepassword=#!F2vplsUatM3B6+lsDcSbWpgO5i5cfznNQAD3anjhExnDL6tQPzKdmw==</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "admin.cli.ssl.keystoretype=jceks" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: admin.cli.ssl.keystoretype=jceks</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "admin.cli.ssl.keyalias=AMXAdminCli" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: admin.cli.ssl.keyalias=AMXAdminCli</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "admin.cli.ssl.keypassword=#!e0Br49sVAB0c1+H2cxVMtZj1VxM0J+1J2OivXSpZ3hods7yIoKEaxQ==" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: admin.cli.ssl.keypassword=#!e0Br49sVAB0c1+H2cxVMtZj1VxM0J+1J2OivXSpZ3hods7yIoKEaxQ==</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "serverconnsetting.enablessl=" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: serverconnsetting.enablessl=</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "serverconnsetting.keystorelocation=" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: serverconnsetting.keystorelocation=</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "serverconnsetting.keystoretype=" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:20 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: serverconnsetting.keystoretype=</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "serverconnsetting.keystorepassword=" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: serverconnsetting.keystorepassword=</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/SetNameValuePairInFile.tst</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-Log</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>replaceInAdminPropFile-Log</td><td><pre>Setting "serverconnsetting.keyalias=" in /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.RandomAccessFile;

setNameValuePairInFile(String fileName, String name, String value, String assignChar){
 try {
  File file = new File(fileName);

  // Check if file exists
  if(!file.exists())
   return errorMsg + ": File " + fileName + " does not exist";

  // If fileName is a directory, we fail.
  if(file.isDirectory())
   return errorMsg + ": File passed is a directory! It must be a file.";

  // Name cannot be empty
  if(name.equals(""))
   return errorMsg + ": Name cannot be empty";

  // Assignment character cannot be empty
  if(assignChar.equals(""))
   return errorMsg + ": Assign character cannot be empty";

  RandomAccessFile raf = new RandomAccessFile(file, "rw");
  long curlinePointer = raf.getFilePointer(); // Pointer to the current line read
  long prevlinePointer = curlinePointer; // Pointer to the previous line read
  String lineData = "";
  boolean nameFound = false;

  // Read file line by line
  while((lineData = raf.readLine()) != null) {
   curlinePointer = raf.getFilePointer();
   // If we find the Name
   if (lineData.startsWith(name + assignChar)){
    // Store the rest of the file in array of bytes
    byte[] b = new byte[raf.length() - curlinePointer];
    raf.readFully(b);
    // If name was already found, we comment out all the other ones
    if (nameFound) {
     // Comment out the line
     raf.seek(prevlinePointer);
     raf.writeBytes("#" + lineData + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
    }
    else {
     // Write the new line: name=value 
     raf.seek(prevlinePointer);
     raf.writeBytes(name + assignChar + value + "\r\n");
     // Append the rest of the file after the new line
     raf.write(b);
     // If new line shorter than the previous one, 
     // pad with white space at the end of the file
     if (lineData.length() &gt; (name + assignChar + value).length()) {
      raf.writeBytes("\r\n");
      int dif = lineData.length() - (name + assignChar + value).length() + 1;
      for (int i=0; i&lt;dif; i++)
       raf.writeBytes(" ");
     }
    }
    nameFound = true;
    raf.seek(curlinePointer);
   }
   prevlinePointer = curlinePointer;
  }
  // If Name not found append Name-Value pair to the end of the file
  if(!nameFound) {
   raf.seek(raf.length());
   raf.writeBytes("\r\n");
   raf.writeBytes(name + assignChar + value);
  }
  raf.close();
  return "Set Name-Value Pair Success: " + name + assignChar + value;
 }
 catch(Exception e){
  return errorMsg + ": " + e.getMessage();
 }
}

// Main
String errorMsg = "Error setting Name-Value pair";
file = testExec.parseInState(file).replace('\\','/');
name = testExec.parseInState(name.toString());
value = testExec.parseInState(value.toString());
return setNameValuePairInFile(file, name, value, assignChar);
 </pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>replaceInAdminPropFile-setNameValuePairInFile</td><td><pre>Set Name-Value Pair Success: serverconnsetting.keyalias=</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>replaceInAdminPropFile</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin</td><td><pre>create, start Admin Server</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin</td><td><pre>create, start Admin Server</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common/com/tibco/lisa/util/InvokeAnt.tst</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-log</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapAdmin-log</td><td><pre>Invoking ant with following variables:
buildFileName=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxbuild.xml
logFileName=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapAdmin.log
propertyFileName=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties
propertyList=TIBCO_AMX_LIBRARY=/groupfiler/tests/tests/amsg/3.0/libraries/amx,TIBCO_HOME=/opt/tibco/amx31x,TIBCO_AMXADMIN_CONFIG=/opt/tibco/amx31x/conf/admin,TIBCO_AMXADMIN_HOME=/opt/tibco/amx31x/administrator/3.1,TIBCO_HOST_HOME=/opt/tibco/amx31x/tibcohost/3.1,tibco.config.mgmt.home=/opt/tibco/amx31x/conf,admin.enterprise.name=AMXAdmin_amxrel2qa1.na.tibco.com,admin.instance.name=admin1,envt.data.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxdata_2node_hsql.xml,bootstrap.data.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxdata_2node_hsql.xml,tibcohost.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties,instance.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties,host.name=SystemHost_amxrel2qa1.na.tibco.com,
targetName=deploy-admin-qa
projectBaseDirName=/opt/tibco/amx31x/administrator/3.1/scripts
antOpts=-Djava.classes.dir=//opt/tibco/amx31x/tibcojre/1.7.0/jre/lib
additionalAntCmdLineArgs=
waitforCompletion=true</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-verifyAntInClasspath</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-verifyAntInClasspath</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.net.URL;
import java.lang.ClassLoader;
import java.net.URLClassLoader;
/*	
String verifyAntInClasspath1() {
		String response = "Fail: ant is not found in classpath.";
		try {
			ClassLoader classLoader = ClassLoader.getSystemClassLoader();
			URL url = classLoader.getResource("org/apache/tools/ant/Project.class"); 
			if (url == null) {
				return response+" null url";
			}			
		} catch(Exception e) {			  
				return response+" Exception is: "+e.getMessage();
		}
		response ="pass: ant is found in classpath.";
		return response;
	}

	

	String verifyAntInClasspath3() {
		String response = "Fail: ant is not found in classpath.";
		try {
			ClassLoader classLoader = com.itko.util.cpdlg.JavaUtils.getClassLoader();
			URL[] urls = ((URLClassLoader)classLoader).getURLs();
			
			for(int i = 0; i &lt; urls.length; i++) {
				response="\n"+urls[i].getPath();
			}
					
		} catch(Exception e) {			  
				return response;
		}
		// response ="pass: ant is found in classpath.";
		return response;
	}

	String verifyAntInClasspath4() {
		String response = "Fail: ant is not found in classpath.";
		try {
			String[] rl = com.itko.util.cpdlg.JavaUtils.getClasspath();
			for(int i = 0; i &lt; rl.length; i++) {
				response=response+"\n"+rl[i];
			}		
		} catch(Exception e) {			  
				return response;
		}
		// response ="pass: ant is found in classpath.";
		return response;
	}


	String verifyAntInClasspath2() {
		String response = "Fail: ant is not found in classpath.";
		try {
			ClassLoader classLoader = com.itko.lisa.test.Environment.getClassLoader();
			URL url = classLoader.getResource("org/apache/tools/ant/Project.class"); 
			if (url == null) {
				return response;
			}			
		} catch(Exception e) {			  
				return response+" Exception is: "+e.getMessage();
		}
		response ="Pass: ant is found in classpath.";
		return response;
	}

	static String verifyAntInClasspath() {
		String response = "Fail: ant is not found in classpath.";
		try {
			com.itko.lisa.test.TestExec.class.forName("org.apache.tools.ant.Project");	
		}catch(Exception e) {
			return response+e.getMessage();
		}
		response ="pass: ant is found in classpath.";
		return response;
	
	}

*/

	String verifyAntInClasspath() {
		String response = "Fail: ant is not found in classpath.";
		try {
			// com.itko.util.cpdlg.JavaUtils.getClassLoader();
			ClassLoader classLoader = com.itko.lisa.test.Environment.getClassLoader();
			URL url = classLoader.getResource("org/apache/tools/ant/Project.class"); 
			if (url == null) {
				return response;
			}			
		} catch(Exception e) {			  
				return response;
		}
		response ="Pass: ant is found in classpath.";
		return response;
	}
	

return verifyAntInClasspath();</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapAdmin-verifyAntInClasspath</td><td><pre>Pass: ant is found in classpath.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-verifyAntVersion</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-verifyAntVersion</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Set;


String verifyAnt() {
		String response = "Fail:";
		String version = null;
		try {
			version = org.apache.tools.ant.Main.getAntVersion();
			// version = "Apache Ant version 1.7.1 compiled on June 27";
		}catch(Exception e) {
			if ( e instanceof ClassNotFoundException) {
				response = response+" Did not find ant in classpath!";
				return response;
			}
			response = response+" Could not get the version of ant";
			return response;
		}
		
		String [] versionArray = version.split(" ");
		if (versionArray.length != 9) {
			try {
				Properties props = new Properties();
				  InputStream in = org.apache.tools.ant.Main.class.getResourceAsStream("/org/apache/tools/ant/version.txt");
				  props.load(in);
				  in.close();
				  version = props.getProperty("VERSION");
			}catch(Exception e) {
				response = response+" Could not verify the version of ant. the version returned is: "+version;
				return response;
			}			
			
		}else {
			version = versionArray[3];
		}
		
		versionArray = version.split("\\.");
		if (versionArray.length != 3) {
			response = response+" Could not verify the version of ant. the version returned is: "+version;
			// response = response+"\n"+" Expected version format is: x.y.z";
			return response;
		}
		
		version = versionArray[0]+"."+versionArray[1];
		
		if (Double.parseDouble(version) &lt; 1.7) {
			response = response+"The version of ant should be at least 1.7.x. Current Version is: "+versionArray[0]+"."+versionArray[1];
			return response;
		}
		response = "Pass: ant verified successfully.";
		return response;
	}

return verifyAnt();</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapAdmin-verifyAntVersion</td><td><pre>Pass: ant verified successfully.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-verifyInputVariables</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-verifyInputVariables</td><td><pre>This step verifies the input variables for the invokeAnt subprocess.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Set;

String checkInputVariables() {
		String response = "Fail:";
		try {
			if ((buildFileName == null) || (buildFileName.equals("")) ) {
				throw new Exception("buildFileName cannot be null.");
			}
           
			File buildFile = new File(testExec.parseInState(buildFileName).replace('\\', '/'));
			if (!buildFile.canRead()) {
				throw new Exception("Build file not found/cannot read it. "+buildFileName);
			}
			if (!buildFile.isFile()) {				
				throw new Exception("build file is not a normal file. "+buildFileName);
			}
						
			File propertyFile = null;
			if ((propertyFileName != null) && (!propertyFileName.equals(""))) {
				propertyFile = new File(testExec.parseInState(propertyFileName).replace('\\', '/'));
				if (!propertyFile.canRead()) {
					throw new Exception("Property file not found/cannot read it. "+propertyFileName);
				}
				if (!propertyFile.isFile()) {
					throw new Exception("property file is not a normal file. "+propertyFileName);
				}
				
			}

			File projectBaseDir = null;
			if ((projectBaseDirName != null) && (!projectBaseDirName.equals(""))) {
				projectBaseDir = new File(testExec.parseInState(projectBaseDirName).replace('\\', '/'));
				if((!projectBaseDir.exists()) || (!projectBaseDir.isDirectory())) {
					throw new Exception("The project base directory is not valid. "+projectBaseDirName);
				}
			}

            // Let's also verify if TIBCO_JAVA_HOME exists since we use that to launch Ant
            File javaHome = new File(testExec.parseInState(TIBCO_JAVA_HOME).replace('\\', '/'));
            if (!javaHome.exists()) {
                throw new Exception("Java home directory is not valid: " + TIBCO_JAVA_HOME);
            }

			response = "Pass: Input variables are valid.";

		}catch(Exception e) {
			response = "Fail: "+e.getLocalizedMessage();
		}
		return response;
	}

return checkInputVariables();</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapAdmin-verifyInputVariables</td><td><pre>Pass: Input variables are valid.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-getAntArguments</td><td><pre>This step gets the arguments to be passed to the ant invocation.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-getAntArguments</td><td><pre>This step gets the arguments to be passed to the ant invocation.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Set;

import org.apache.tools.ant.DefaultLogger;
import org.apache.tools.ant.Project;
import org.apache.tools.ant.ProjectHelper;

	
			String getAntArgs() {
			String response = "";
			FileInputStream fis = null;
			try {
				File propertyFile = null;
						
				Properties props = null;
							
				if ((propertyFileName != null) && (!propertyFileName.equals(""))) {
					response = response+" -propertyfile "+propertyFileName.replace("\\","/");
				}
				
				if ((propertyList != null) && (!propertyList.equals(""))) {
					String [] propArray = propertyList.split(",");
					for (int i =0; i &lt; propArray.length; i++) {
						String [] keyPair = propArray[i].split("=");
						if (keyPair.length == 1) continue;
							//should we trim empty spaces?
						response = response+" -D"+(String)keyPair[0]+"="+(String)keyPair[1];
					}
				}
                if ((projectBaseDirName != null) && (!projectBaseDirName.equals(""))) {
                    response = response+" -D"+"basedir=\""+(String)projectBaseDirName.replace("\\","/") + "\"";
                }
                else {
                    response = response+" -D"+"basedir=\""+(String)LISA_TC_PATH.replace("\\","/") + "\"";
                }
	            
				
				
			}catch(Exception e) {
				response = "Fail: "+e;
			}finally {
				try {				
					if (fis != null) fis.close();				
				}catch(Exception ioe) {
					//ignore.
				}
			}
			//System.out.println("response is:"+response);
			return response;
		}
return getAntArgs();</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapAdmin-getAntArguments</td><td><pre> -propertyfile /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties -DTIBCO_AMX_LIBRARY=/groupfiler/tests/tests/amsg/3.0/libraries/amx -DTIBCO_HOME=/opt/tibco/amx31x -DTIBCO_AMXADMIN_CONFIG=/opt/tibco/amx31x/conf/admin -DTIBCO_AMXADMIN_HOME=/opt/tibco/amx31x/administrator/3.1 -DTIBCO_HOST_HOME=/opt/tibco/amx31x/tibcohost/3.1 -Dtibco.config.mgmt.home=/opt/tibco/amx31x/conf -Dadmin.enterprise.name=AMXAdmin_amxrel2qa1.na.tibco.com -Dadmin.instance.name=admin1 -Denvt.data.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxdata_2node_hsql.xml -Dbootstrap.data.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxdata_2node_hsql.xml -Dtibcohost.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties -Dinstance.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties -Dhost.name=SystemHost_amxrel2qa1.na.tibco.com -Dbasedir="/opt/tibco/amx31x/administrator/3.1/scripts"</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-getProjectBaseDir</td><td><pre>This step gets the arguments to be passed to the ant invocation.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-getProjectBaseDir</td><td><pre>This step gets the arguments to be passed to the ant invocation.</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Set;
	
		String getProjectbaseDir() {
			String baseDir = "";
            if ((projectBaseDirName != null) && (!projectBaseDirName.equals(""))) {
                baseDir=(String)projectBaseDirName;
            }
            else {
                baseDir=(String)LISA_TC_PATH;
            }
			//System.out.println("baseDir is:"+baseDir);
			return baseDir;
		}
return getProjectbaseDir();</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapAdmin-getProjectBaseDir</td><td><pre>/opt/tibco/amx31x/administrator/3.1/scripts</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-invokeAntFromCommandLine</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-invokeAntFromCommandLine</td><td><pre></pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/opt/tibco/amx31x/tibcojre/1.7.0/bin/java -Djava.classes.dir=//opt/tibco/amx31x/tibcojre/1.7.0/jre/lib -cp :/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-launcher.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-trax.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-contrib.jar:/groupfiler/tests/tests/amsg/3.0/libraries/common/lib/ant-nodeps.jar org.apache.tools.ant.launch.Launcher   -propertyfile /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties -DTIBCO_AMX_LIBRARY=/groupfiler/tests/tests/amsg/3.0/libraries/amx -DTIBCO_HOME=/opt/tibco/amx31x -DTIBCO_AMXADMIN_CONFIG=/opt/tibco/amx31x/conf/admin -DTIBCO_AMXADMIN_HOME=/opt/tibco/amx31x/administrator/3.1 -DTIBCO_HOST_HOME=/opt/tibco/amx31x/tibcohost/3.1 -Dtibco.config.mgmt.home=/opt/tibco/amx31x/conf -Dadmin.enterprise.name=AMXAdmin_amxrel2qa1.na.tibco.com -Dadmin.instance.name=admin1 -Denvt.data.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxdata_2node_hsql.xml -Dbootstrap.data.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxdata_2node_hsql.xml -Dtibcohost.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/tibcohost.properties -Dinstance.properties.file=/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/admin.properties -Dhost.name=SystemHost_amxrel2qa1.na.tibco.com -Dbasedir="/opt/tibco/amx31x/administrator/3.1/scripts" -logfile "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapAdmin.log" -buildfile "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxbuild.xml" deploy-admin-qa</pre></td><td>Mon Sep 03 21:38:21 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapAdmin-invokeAntFromCommandLine</td><td><pre>Buildfile: /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/amxbuild.xml
</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-checkCondition</td><td><pre></pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-checkCondition</td><td><pre></pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

/* check for waitForCompletion flag and logFile flag
   return true only when both are true
   if true is returned then - ant log file is being read and output is
   sent to the console
   if false is returned then - test case ends 
*/

if ( (waitForCompletion) &&
     ((logFileName != null) && (!logFileName.equals("")) ) )  
{
       return "true"; 
}else {  
    return ""; 
}</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapAdmin-checkCondition</td><td><pre>true</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CC9933'><td>EVENT_ASSERT</td><td>bootstrapAdmin-checkCondition [check for waitForCompletion and logFileName flag] </td><td><pre>waitForCompletion is true & logFileName is /groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapAdmin.log</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-returnResponse</td><td><pre></pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-returnResponse</td><td><pre></pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>/groupfiler/tests/tests/amsg/3.0/libraries/common\com\tibco\lisa\file\ReadFile.tst</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-returnResponse-Log</td><td><pre></pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-returnResponse-Log</td><td><pre></pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODEMSG</td><td>bootstrapAdmin-returnResponse-Log</td><td><pre>Reading file "/groupfiler/tests/tests/amsg/3.0/reports/linux24gl23_x86/amsg-3.1.5-2012-09-03-01-06-44/func/runtime/bat/bat_2node_hsql/setup/antBootstrapAdmin.log" ...</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-returnResponse-readFile</td><td><pre></pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#87CEEB'><td>EVENT_TRANSACTION</td><td>bootstrapAdmin-returnResponse-readFile</td><td><pre></pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_REQUEST</td><td></td><td><pre>import java.io.*;

String baseErrorMsg = "File Read Error"; // Do not modify. Test engineers might assert on this string.
String strFile = testExec.parseInState(file).replace('\\', '/');

File file = new File(strFile);
if (!file.exists())
  return baseErrorMsg + ": File '" + file + "' does not exist.";
if (!file.canRead())
  return baseErrorMsg + ": Cannot be read file '" + file + "'.";
if (!file.isFile())
  return baseErrorMsg + ": '" + file + "' is not a file.";

BufferedReader input=null;

try {
    if (encoding.equals("")) 
        input = new BufferedReader(new InputStreamReader(new FileInputStream(file)));
    else 	
        input = new BufferedReader(new InputStreamReader  
				  (new FileInputStream(file),encoding));

    //BufferedReader input = new BufferedReader(new FileReader(file));
    StringBuffer content = new StringBuffer();
    String line = null;
    /*
    * readLine is a bit quirky :
    * it returns the content of a line MINUS the newline.
    * it returns null only for the END of the stream.
    * it returns an empty String if two newlines appear in a row.
    */
    while ((line = input.readLine()) != null) {
        content.append(line);
        content.append(System.getProperty("line.separator"));
    }
    //flush and close both "input" and its underlying FileReader
    input.close();
    return content.toString();
}
catch(Exception e) {
    return baseErrorMsg + ": " + e.getMessage();
}
</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_NODERESPONSE</td><td>bootstrapAdmin-returnResponse-readFile</td><td><pre>     [echo] Script base is: "/opt/tibco/amx31x/administrator/3.1/scripts/basic_cli.xml"

-define-macros:

create-dir-structure:
    [mkdir] Created dir: /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/samples
    [mkdir] Created dir: /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/shared/runtime
    [mkdir] Created dir: /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/private/admin1
     [copy] Copying 119 files to /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/samples
     [copy] Copying 1 file to /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/samples
     [copy] Copying 1 file to /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/private/admin1

bootstrap.admin.archive.th:
     [echo] ------Bootstrap admin archives for hosting AMX Administrator on Tibco Host --------- 
[AdminBootstrapTask]  INFO - Processing 1 objects
[AdminBootstrapTask]  INFO - check the process...
[AdminBootstrapTask]  INFO - Starting admin bootstrap...
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - Creating admin WAR files...
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - Initializing JSSE's crypto provider class com.sun.net.ssl.internal.ssl.Provider in default mode
[AdminBootstrapTask]  INFO - Deploying node type...
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - Binding to host...
[AdminBootstrapTask]  INFO - Creating and starting admin node...
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask] ERROR - Error performing admin bootstrap: WARNING: exception with message ***Admin node failed to start in 5 minutes*** has not been localized

BUILD FAILED
/opt/tibco/amx31x/administrator/3.1/scripts/instance-mgmt.xml:237: Failed on error

Total time: 5 minutes 54 seconds
</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CC9933'><td>EVENT_ASSERT</td><td>bootstrapAdmin [Assert107] </td><td><pre>Bootstrap Admin failed
Result did not contain string. Looked for 'BUILD SUCCESSFUL' in result '     [echo] Script base is: "/opt/tibco/amx31x/administrator/3.1/scripts/basic_cli.xml"

-define-macros:

create-dir-structure:
    [mkdir] Created dir: /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/samples
    [mkdir] Created dir: /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/shared/runtime
    [mkdir] Created dir: /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/private/admin1
     [copy] Copying 119 files to /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/samples
     [copy] Copying 1 file to /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/samples
     [copy] Copying 1 file to /opt/tibco/amx31x/conf/admin/AMXAdmin_amxrel2qa1.na.tibco.com/private/admin1

bootstrap.admin.archive.th:
     [echo] ------Bootstrap admin archives for hosting AMX Administrator on Tibco Host --------- 
[AdminBootstrapTask]  INFO - Processing 1 objects
[AdminBootstrapTask]  INFO - check the process...
[AdminBootstrapTask]  INFO - Starting admin bootstrap...
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - Creating admin WAR files...
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - Initializing JSSE's crypto provider class com.sun.net.ssl.internal.ssl.Provider in default mode
[AdminBootstrapTask]  INFO - Deploying node type...
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - Binding to host...
[AdminBootstrapTask]  INFO - Creating and starting admin node...
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask]  INFO - .
[AdminBootstrapTask] ERROR - Error performing admin bootstrap: WARNING: exception with message ***Admin node failed to start in 5 minutes*** has not been localized

BUILD FAILED
/opt/tibco/amx31x/administrator/3.1/scripts/instance-mgmt.xml:237: Failed on error

Total time: 5 minutes 54 seconds
'</pre></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='red'><td>EVENT_TESTFAILED</td><td></td><td></td><td>Mon Sep 03 21:44:16 PDT 2012</td> </tr><tr bgcolor='#CCCC99'><td>EVENT_TESTEND</td><td></td><td></td><td>Mon Sep 03 21:44:17 PDT 2012</td> </tr></table></body></html>